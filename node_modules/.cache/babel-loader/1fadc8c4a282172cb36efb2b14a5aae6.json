{"ast":null,"code":"var _jsxFileName = \"/Users/eduardkazeks/Documents/GitHub/EeJobPortal/src/components/companies/advertisements/paymentRedirect.component.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { processOnlinePayment, displayPaymentStatusMessage } from '../../../actions';\nimport { useTranslation } from 'react-i18next';\nimport { Button, withStyles, Grid } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport Loader from '../../../utils/loader';\n\nconst happyIllustration = require('../../../images/post_happy_announcement.svg');\n\nconst sadIllustration = require('../../../images/post_sad_announcement.svg');\n\nconst styles = theme => ({\n  title: {\n    margin: 40,\n    fontWeight: 'bold',\n    color: theme.palette.primary.main\n  },\n  content: {\n    margin: '50px 0px',\n    textAlign: 'center'\n  },\n  image: {\n    height: 200,\n    backgroundSize: 'contain',\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat'\n  },\n  sadImg: {\n    backgroundImage: `url(${sadIllustration})`\n  },\n  happyImg: {\n    backgroundImage: `url(${happyIllustration})`\n  },\n  body: {\n    margin: '50px 0'\n  },\n  ctaBtn: {\n    margin: 40\n  }\n});\n\nconst PaymentRedirect = _ref => {\n  let {\n    classes\n  } = _ref;\n  const apiResponse = useSelector(state => state.payment.responseText); // 'Success' | 'Failed' | 'Cancelled' | 'NotFound' | 'Processed | ActivatePostFailed'\n\n  const isLoading = useSelector(state => state.payment.isLoading);\n  const dispatch = useDispatch();\n  const extraService = useSelector(state => state.advertisement.extraService);\n  const isToChangeCampaign = useSelector(state => state.advertisement.isToChangeCampaign);\n  const upgradeCampaignCancelled = isToChangeCampaign && apiResponse === 'Cancelled';\n  const upgradeCampaignSuccess = isToChangeCampaign && apiResponse === 'Success';\n  const serviceText = upgradeCampaignSuccess ? 'Upgrade' : extraService.help || extraService.sos ? 'Service' : '';\n  const urlParams = new URLSearchParams(window.location.search);\n  const transaction_id = urlParams.get('transactionId');\n  const comp_post_id = urlParams.get('paymentId');\n  const responseCode = urlParams.get('responseCode');\n  useEffect(() => {\n    if (!!transaction_id && !!comp_post_id) {\n      dispatch(processOnlinePayment());\n    } else {\n      dispatch(displayPaymentStatusMessage(''));\n    }\n  }, [dispatch, transaction_id, comp_post_id]);\n  const {\n    t\n  } = useTranslation('payment');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, !!transaction_id && !!responseCode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(Loader, {\n    showSpinner: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }), !!apiResponse && !isLoading && /*#__PURE__*/React.createElement(Grid, {\n    spacing: 1,\n    className: classes.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classNames(classes.image, apiResponse === 'Failed' || apiResponse === 'Cancelled' || apiResponse === 'NotFound' || apiResponse === 'ActivatePostFailed' ? classes.sadImg : classes.happyImg),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \" \", t(`title${apiResponse}`))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, apiResponse === 'Success' ? t(`body${apiResponse}${serviceText}`) : upgradeCampaignCancelled ? t('upgradeCancelled') : t(`body${apiResponse}`))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.ctaBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/omat-ilmoitukseni\",\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, t('ctaBtnText')))))) : '');\n};\n\nexport default withStyles(styles)(PaymentRedirect);","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","processOnlinePayment","displayPaymentStatusMessage","useTranslation","Button","withStyles","Grid","Link","classNames","Loader","happyIllustration","require","sadIllustration","styles","theme","title","margin","fontWeight","color","palette","primary","main","content","textAlign","image","height","backgroundSize","backgroundPosition","backgroundRepeat","sadImg","backgroundImage","happyImg","body","ctaBtn","PaymentRedirect","classes","apiResponse","state","payment","responseText","isLoading","dispatch","extraService","advertisement","isToChangeCampaign","upgradeCampaignCancelled","upgradeCampaignSuccess","serviceText","help","sos","urlParams","URLSearchParams","window","location","search","transaction_id","get","comp_post_id","responseCode","t","textDecoration"],"sources":["/Users/eduardkazeks/Documents/GitHub/EeJobPortal/src/components/companies/advertisements/paymentRedirect.component.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { processOnlinePayment, displayPaymentStatusMessage } from '../../../actions';\nimport { useTranslation } from 'react-i18next';\nimport { Button, withStyles, Grid } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport Loader from '../../../utils/loader';\n\nconst happyIllustration = require('../../../images/post_happy_announcement.svg');\nconst sadIllustration = require('../../../images/post_sad_announcement.svg');\n\nconst styles = theme => ({\n  title: {\n    margin: 40,\n    fontWeight: 'bold',\n    color: theme.palette.primary.main,\n  },\n  content: {\n    margin: '50px 0px',\n    textAlign: 'center',\n  },\n  image: {\n    height: 200,\n    backgroundSize: 'contain',\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat',\n  },\n  sadImg: {\n    backgroundImage: `url(${sadIllustration})`,\n  },\n  happyImg: {\n    backgroundImage: `url(${happyIllustration})`,\n  },\n  body: {\n    margin: '50px 0',\n  },\n  ctaBtn: {\n    margin: 40,\n  },\n});\n\nconst PaymentRedirect = ({ classes }) => {\n  const apiResponse = useSelector(state => state.payment.responseText); // 'Success' | 'Failed' | 'Cancelled' | 'NotFound' | 'Processed | ActivatePostFailed'\n  const isLoading = useSelector(state => state.payment.isLoading);\n  const dispatch = useDispatch();\n\n  const extraService = useSelector(state => state.advertisement.extraService);\n  const isToChangeCampaign = useSelector(state => state.advertisement.isToChangeCampaign);\n  const upgradeCampaignCancelled = isToChangeCampaign && apiResponse === 'Cancelled';\n\n  const upgradeCampaignSuccess = isToChangeCampaign && apiResponse === 'Success';\n  const serviceText = upgradeCampaignSuccess ? 'Upgrade' : extraService.help || extraService.sos ? 'Service' : '';\n\n  const urlParams = new URLSearchParams(window.location.search);\n  const transaction_id = urlParams.get('transactionId');\n  const comp_post_id = urlParams.get('paymentId');\n  const responseCode = urlParams.get('responseCode');\n\n  useEffect(() => {\n    if (!!transaction_id && !!comp_post_id) {\n      dispatch(processOnlinePayment());\n    } else {\n      dispatch(displayPaymentStatusMessage(''));\n    }\n  }, [dispatch, transaction_id, comp_post_id]);\n\n  const { t } = useTranslation('payment');\n\n  return (\n    <div className=\"container\">\n      {!!transaction_id && !!responseCode ? (\n        <div className={classes.content}>\n          {isLoading && <Loader showSpinner={isLoading} />}\n          {!!apiResponse && !isLoading && (\n            <Grid spacing={1} className={classes.body}>\n              <Grid\n                item\n                xs={12}\n                className={classNames(\n                  classes.image,\n                  apiResponse === 'Failed' || apiResponse === 'Cancelled' || apiResponse === 'NotFound' || apiResponse === 'ActivatePostFailed'\n                    ? classes.sadImg\n                    : classes.happyImg,\n                )}\n              />\n              <Grid item xs={12}>\n                <h3 className={classes.title}> {t(`title${apiResponse}`)}</h3>\n              </Grid>\n              <Grid item xs={12}>\n                <p>\n                  {apiResponse === 'Success'\n                    ? t(`body${apiResponse}${serviceText}`)\n                    : upgradeCampaignCancelled\n                    ? t('upgradeCancelled')\n                    : t(`body${apiResponse}`)}\n                </p>\n              </Grid>\n              <Grid item xs={12} className={classes.ctaBtn}>\n                <Link to=\"/omat-ilmoitukseni\" style={{ textDecoration: 'none' }}>\n                  <Button variant=\"contained\" color=\"primary\">\n                    {t('ctaBtnText')}\n                  </Button>\n                </Link>\n              </Grid>\n            </Grid>\n          )}\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport default withStyles(styles)(PaymentRedirect);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}