{"ast":null,"code":"import { useState } from \"react\";\nimport { takeEvery, put, call } from \"redux-saga/effects\";\nimport { getFormValues, change, formValueSelector, initialize, getFormInitialValues, touch } from \"redux-form\";\nimport { SAVE_AND_PUBLISH_ADVERTISEMENT, UPDATE_AND_PUBLISH_ADVERTISEMENT, API_SERVER, API_SERVER_EST, API_SERVER_EST_GET_ID, GET_ALL_CAMPAIGNS, OPEN_AD_TO_SEE_AD_INFO, UPDATE_ADVERTISEMENT, POPULATE_VACANCY_FORM, DELETE_ADVERTISEMENT, GET_ALL_JOB_CATEGORY, GET_ALL_ADS_BY_STATUS, SAVE_ADVERTISEMENT_AS_DRAFT, SAVE_NEW_CAMPAIGN, CHANGE_ACTIVE_POST_TO_INACTIVE, GET_APPLICATION_DETAILS_BY_ID, UPDATE_APPLICANT_STATUS, GET_JOBPOST_VIEWS_BY_DATE, NAVIGATE_ADS_FROM_MAIN_MENU, UPDATE_JOB_APPLICATION_DETAILS, EDIT_INTERVIEW_DETAILS, SAVE_MARKETING_DETAILS, DELETE_APPLICATION, CHANGE_ROUTE, ADMIN_GET_USER_PROFILE, HELP_SERVICE_FEE, SOS_SERVICE_FEE, POPULATE_EMAIL_MESSAGE, AUTO_EMAIL_TO_APPLICANT, EDIT_VACANCY_FORM, DELETE_JOB_OFFER } from \"../constants\";\nimport store from \"../store\";\nimport { apiManualRequest, apiManualPost, apiOpenRequest, apiGetJobsOffers, apiManualDelete } from \"../utils/request\";\nimport { filterObj } from \"../utils/wrappers\";\nimport { getAllCampaignsSuccess, saveAndPublishAdvertisementSuccess, getAllJobCategorySuccess, saveAndPublishAdvertisementFailed, getAllAdsByStatusSuccess, saveAndPublishAdvertisement, showSuccessSnackbar, showFailedSnackbar, openAdToSeeAdInfo, populateVacancyFormSuccess, updateAndPublishAdvertisementSuccess, getApplicationDetailsById, getApplicationDetailsByIdSuccess, getJobPostViewsByDateSuccess, changeAdvertPage, getAllAdsByStatus, filterJobs, hideSpinner, saveMarketingDetailsSuccess, closeDialog, registerPayment, sendInvoiceToTalous, getCompanyProfileSuccess, openAdToSeeAdInfoSuccess, getJobsOffers, getAllJobCategoryFromEstoniaSuccess, editVacancyForm } from \"../actions\";\nimport { customTranslateCampaign } from \"../utils/customTranslate\";\nimport browserHistory from \"../history\";\nimport { messageTemplate } from \"../components/companies/advertisements/automaticMessageToApplicants/messages\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\n\nfunction* getAllCampaignsSaga() {\n  try {\n    const url = `${API_SERVER}/GetCampaigns`;\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = JSON.parse(result.data);\n    yield put(getAllCampaignsSuccess(resultParsed));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* getAllJobCategorySaga() {\n  try {\n    const url = `${API_SERVER}/GetJobCategories`;\n    const result = yield call(apiOpenRequest, url);\n    const resultParsed = JSON.parse(result.data);\n    yield put(getAllJobCategorySuccess(resultParsed));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* saveAndPublishAdvertisementSaga() {\n  try {\n    let url;\n    let body;\n    let response;\n    let parsedCompany = {};\n    const {\n      advertisement,\n      client,\n      companyProfile\n    } = store.getState();\n    const formValues = getFormValues(\"vacancy\")(store.getState());\n    const paymentInfoForm = getFormValues(\"paymentInfo\")(store.getState());\n    const uuid = client.user.data[2];\n    const userRole = client.user.data[6].user_type;\n    const payment_method = paymentInfoForm && paymentInfoForm.payment_method;\n    const companyId = companyProfile.profile.company_id;\n\n    if (!formValues.company_id) {\n      formValues.company_id = companyId; // Also sending company_id to add company specific post.\n    }\n\n    yield put(closeDialog());\n\n    if (userRole === \"admin\") {\n      const companyDetails = {\n        company_id: parseInt(formValues.company_id),\n        uuid\n      };\n      const jobPostOwner = yield call(apiManualPost, `${API_SERVER}/GetCompanyProfile`, JSON.stringify({ ...companyDetails\n      }));\n      parsedCompany = JSON.parse(jobPostOwner.data);\n    }\n\n    const {\n      selectedCampaign,\n      isDraft,\n      isToEdit,\n      uploadedImage,\n      marketingDetails,\n      extraService\n    } = advertisement;\n    const refinedUploadedImage = uploadedImage && uploadedImage.name && uploadedImage.name.replace(/\\s+\\(\\d+\\)/g, \"JP\"); // If stored filename has (int), dropzone doesn't understand the path..so changing such names before sending to db.\n\n    const refinedFormValues = filterObj(\"image_document\", formValues);\n    url = `${API_SERVER_EST}/postJob`;\n    const statusToUpdate = isDraft || extraService.help || extraService.sos ? 0 : selectedCampaign.type === \"free\" ? 1 : 4;\n    const selectedService = extraService.help ? \"help\" : extraService.sos ? \"sos\" : null; // // image_document array means, it already exists in db, no need to send while updating\n    // if (Array.isArray(formValues.image_document) === true) {\n    //   body = {\n    //     ...refinedFormValues,\n    //     uuid,\n    //     campaign_type: selectedCampaign.type,\n    //     status: statusToUpdate,\n    //     extra_service: selectedService,\n    //   };\n    // } else if (!uploadedImage.name) {\n    //   // no uploaded image means, no need to send any base64. Also, if there is an image stored in db..and we want to delete it, I am changing the formvalues of image_document in component\n    //   body = {\n    //     ...formValues,\n    //     uuid,\n    //     campaignLevel: selectedCampaign.type,\n    //     status: statusToUpdate,\n    //     extra_service: selectedService,\n    //   };\n    // } else if (\n    //   uploadedImage.name &&\n    //   !Array.isArray(formValues.image_document)\n    // ) {\n    //   const base64 = formValues.image_document;\n    //   body = {\n    //     ...formValues,\n    //     uuid,\n    //     campaignLevel: selectedCampaign.type,\n    //     status: statusToUpdate,\n    //     image_document: {\n    //       uuid,\n    //       document_id: uploadedImage.id,\n    //       path: \"\",\n    //       filename: refinedUploadedImage,\n    //       filetype: uploadedImage.type,\n    //       data: base64,\n    //     },\n    //     extra_service: selectedService,\n    //   };\n    // }\n    // if (selectedCampaign.includes_mktbudget) {\n    //   const {\n    //     marketing_platform,\n    //     more_budget,\n    //     marketing_budget,\n    //   } = marketingDetails;\n    //   body.marketing_platform = !!marketing_platform\n    //     ? marketing_platform\n    //     : null;\n    //   body.more_budget = !!more_budget ? more_budget : null;\n    //   body.marketing_budget = !!marketing_budget\n    //     ? parseInt(marketing_budget)\n    //     : 0;\n    // }\n    // SAVING AND PUBLISHING JOBPOST\n\n    body = {\n      id,\n      jobTitle,\n      jobCategory,\n      jobType,\n      jobDuration,\n      jobLocation,\n      applicationUrl,\n      lastApplicationDate,\n      jobDescription,\n      campaignLevel,\n      isDraft\n    };\n    axios.post(url, body).then(res => {\n      response = res;\n    });\n\n    if (response === 400) {\n      yield put(saveAndPublishAdvertisement());\n    } else {\n      yield put(saveAndPublishAdvertisementSuccess());\n    } // response = result.data.status\n    // const parsedResult = JSON.parse(result.data);\n    // If publishing post, Generate invoice under the hood via Talousvirta API or online payment via NETS\n    // if (parsedResult) {\n    //   const { company_name, business_id, firstname, lastname, email, address, zip_code, city } =\n    //     userRole === 'admin' ? parsedCompany[0] : companyProfile.profile;\n    //   const jobTitle = formValues.job_title;\n    //   const postId = parsedResult[0].post_id;\n    //   const orderId = parsedResult[0].order_id;\n    //   const publishedPostStatus = parsedResult[0].job_post_status;\n    //   const description = `${jobTitle} | Kampanjapaketti - ${customTranslateCampaign(selectedCampaign.id)}`;\n    //   const mkt_description = `${jobTitle} | Lisätty markkinointiraha`;\n    //   const extra_service_description = `Aktivoitu lisäpalvelu | ${extraService.help ? 'HELP' : 'SOS'}`;\n    //   // If mkt budget is added with campaigns with mkt budget, i.e. 5th campaign for now.\n    //   let marketing_budget = 0;\n    //   if (selectedCampaign.includes_mktbudget && !!parsedResult[0].marketing_budget) {\n    //     marketing_budget = parsedResult[0].marketing_budget;\n    //   }\n    //   const extra_service_fee = extraService.help ? HELP_SERVICE_FEE : extraService.sos ? SOS_SERVICE_FEE : 0;\n    //   if (\n    //     (publishedPostStatus === 0 && extra_service_fee > 0) || // If help and sos are added as extra service\n    //     publishedPostStatus === 4 // If paid campaigns are selected, temporary placeholder status\n    //   ) {\n    //     const isExtraServiceAdded = publishedPostStatus === 0 && extra_service_fee > 0 ? true : false;\n    //     const extra_service_fee_with_vat = extra_service_fee * 1.24; // Total price for the extra service including vat\n    //     const amount = parsedResult[0].job_post_campaign_money;\n    //     const totalSum = (marketing_budget + amount) * 1.24;\n    //     const details = {\n    //       company_id: formValues.company_id,\n    //       company_name,\n    //       business_id,\n    //       firstname,\n    //       lastname,\n    //       email,\n    //       address,\n    //       zip_code,\n    //       city,\n    //       description: isExtraServiceAdded ? extra_service_description : description,\n    //       totalSum: isExtraServiceAdded ? extra_service_fee_with_vat : totalSum,\n    //       amount: isExtraServiceAdded ? extra_service_fee : amount,\n    //       post_id: postId,\n    //       order_id: orderId,\n    //       marketing_budget,\n    //       mkt_description,\n    //       selectedCampaign,\n    //     };\n    //     if (payment_method === 'invoice') {\n    //       yield put(sendInvoiceToTalous(details));\n    //     } else if (payment_method === 'online') {\n    //       \\ put(registerPayment(details));\n    //     }\n    //   }\n    //   // Post saved as a draft or free campaign or help/sos feature\n    //   //if (parsedResult[0].job_post_status !== 4)\n    //   else {\n    //     yield put(saveAndPublishAdvertisementSuccess());\n    //   }\n    // } else {\n    //   yield put(saveAndPublishAdvertisementFailed());\n    // }\n\n  } catch (error) {\n    console.log(error);\n    yield put(saveAndPublishAdvertisementFailed());\n  }\n}\n\nfunction* getJobPostByPostIdSaga(_ref) {\n  let {} = _ref;\n\n  try {\n    const id = store.getState().jobs.id;\n    const url = `${API_SERVER_EST}/${id}`;\n    const companyBusinessId = store.getState().jobs.jobsList.companyBusinessId;\n    const userRole = store.getState().client.user.data[6].user_type;\n    const result = yield call(apiOpenRequest, url);\n    const resultParsed = result.data;\n    yield put(openAdToSeeAdInfoSuccess(resultParsed));\n  } catch (error) {\n    console.log(error);\n    yield put(hideSpinner());\n  }\n}\n\nfunction* getAllAdsByStatusSaga(_ref2) {\n  let {\n    status\n  } = _ref2;\n\n  try {\n    const url = `${API_SERVER}/SearchJobPosts`;\n    const {\n      client,\n      usersCompanyList,\n      companyProfile\n    } = store.getState();\n    const uuid = client.user.data[2];\n    const roleId = client.user.data[5];\n    let selectedCompanyId;\n    selectedCompanyId = usersCompanyList.selectedCompany.company_id;\n    const assignedCompanyId = client.user.data[6].company_id;\n\n    if (!selectedCompanyId) {\n      // For first time registered users, client company_id is null since user profile is not updated\n      selectedCompanyId = companyProfile.profile.company_id;\n    }\n\n    const company_id = roleId === 0 ? selectedCompanyId : assignedCompanyId; //super user with many companies\n\n    const body = JSON.stringify({\n      status,\n      uuid,\n      company_id\n    });\n    const result = yield call(apiManualPost, url, body);\n    const resultParsed = JSON.parse(result.data);\n    yield put(getAllAdsByStatusSuccess(status, resultParsed));\n  } catch (error) {\n    console.log(error);\n  }\n} // Populating vacancy form when editing or copying\n\n\nfunction* populateVacancyFormSaga(_ref3) {\n  let {\n    id,\n    isToEdit\n  } = _ref3;\n\n  try {\n    const url = `${API_SERVER_EST}/${id}`; //const companyBusinessId = store.getState().jobs.companyBusinessId;\n\n    const campaigns = store.getState().advertisement.campaigns;\n    const userRole = store.getState().client.user.data[6].user_type;\n    const body = JSON.stringify({\n      jobPostNumber: userRole === \"admin\" ? id.split(\"admin\")[0] : id //companyBusinessId: userRole === 'admin' ? id.split('admin')[1] : companyBusinessId,\n\n    });\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n    console.log(resultParsed); // console.log('resultParsed', resultParsed);\n    // If we are populating from Draft Component, we are editing--> call UpdateJobPost API, it needs company_id && post_id which is being sent along with the vacancy form!\n\n    const {\n      jobPostNumber,\n      //companyBusinessId,\n      company_image,\n      image_id,\n      jobName,\n      titleSpecification,\n      workingTime,\n      jobTags,\n      job_location,\n      jobDescription,\n      is_agreement,\n      dateOfApplication,\n      is_email_notification,\n      email,\n      notice_frequency,\n      campaign_id,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n      urlToApplyJob\n    } = resultParsed;\n\n    if (isToEdit) {\n      yield put(change(\"vacancy\", \"jobPostNumber\", jobPostNumber)); // yield put(change('vacancy', 'company_id', company_id));\n\n      if (company_image) {\n        yield put(change(\"vacancy\", \"image_document\", company_image));\n        yield put(change(\"vacancy\", \"image_id\", image_id));\n      }\n    }\n\n    yield put(change(\"vacancy\", \"jobTitle\", jobName));\n    yield put(change(\"vacancy\", \"jobType\", titleSpecification));\n    yield put(change(\"vacancy\", \"jobLocation\", workingTime));\n    yield put(change(\"vacancy\", \"jobCategory\", jobTags));\n    yield put(change(\"vacancy\", \"jobLocation\", resultParsed.jobPostAddress.address));\n    yield put(change(\"vacancy\", \"jobDescription\", jobDescription));\n    yield put(change(\"vacancy\", \"is_agreement\", true));\n    yield put(change(\"vacancy\", \"applicationUrl\", urlToApplyJob));\n    yield put(change(\"vacancy\", \"lastApplicationDate\", dateOfApplication));\n    yield put(change(\"vacancy\", \"is_email_notification\", is_email_notification));\n    yield put(change(\"vacancy\", \"email\", email));\n    yield put(change(\"vacancy\", \"notice_frequency\", notice_frequency));\n    const postCampaign = campaigns.find(campaign => campaign.id === campaign_id);\n    const campaignDetails = {\n      postCampaign,\n      marketing_platform,\n      more_budget,\n      marketing_budget\n    };\n    yield put(populateVacancyFormSuccess(campaignDetails, isToEdit));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* editVacancyFormSaga(_ref4) {\n  let {\n    id,\n    isToEdit\n  } = _ref4;\n\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    const campaigns = store.getState().advertisement.campaigns;\n    const userRole = store.getState().client.user.data[6].user_type;\n    const body = JSON.stringify({\n      jobPostNumber: userRole === \"admin\" ? id.split(\"admin\")[0] : id\n    });\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data; // If we are populating from Draft Component, we are editing--> call UpdateJobPost API, it needs company_id && post_id which is being sent along with the vacancy form!\n\n    const {\n      jobPostNumber,\n      company_image,\n      image_id,\n      jobName,\n      titleSpecification,\n      workingTime,\n      jobTags,\n      job_location,\n      jobDescription,\n      is_agreement,\n      dateOfApplication,\n      is_email_notification,\n      email,\n      notice_frequency,\n      campaign_id,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n      urlToApplyJob\n    } = resultParsed;\n\n    if (isToEdit) {\n      yield put(change(\"editVacancy\", \"jobPostNumber\", jobPostNumber)); // yield put(change('vacancy', 'company_id', company_id));\n\n      if (company_image) {\n        yield put(change(\"editVacancy\", \"image_document\", company_image));\n        yield put(change(\"editVacancy\", \"image_id\", image_id));\n      }\n    }\n\n    yield put(change(\"editVacancy\", \"jobTitle\", jobName));\n    yield put(change(\"editVacancy\", \"jobType\", titleSpecification));\n    yield put(change(\"editVacancy\", \"jobDuration\", workingTime));\n    yield put(change(\"editVacancy\", \"jobCategory\", jobTags)); // yield put(change('editVacancy', 'jobLocation', resultParsed.jobPostAddress.address));\n\n    yield put(change(\"editVacancy\", \"jobDescription\", jobDescription));\n    yield put(change(\"editVacancy\", \"is_agreement\", true));\n    yield put(change(\"editVacancy\", \"applicationUrl\", urlToApplyJob));\n    yield put(change(\"editVacancy\", \"lastApplicationDate\", dateOfApplication));\n    yield put(change(\"editVacancy\", \"is_email_notification\", is_email_notification));\n    yield put(change(\"editVacancy\", \"email\", email));\n    yield put(change(\"editVacancy\", \"notice_frequency\", notice_frequency));\n    const postCampaign = campaigns.find(campaign => campaign.id === campaign_id);\n    const campaignDetails = {\n      postCampaign,\n      marketing_platform,\n      more_budget,\n      marketing_budget\n    };\n    yield put(populateVacancyFormSuccess(campaignDetails, isToEdit));\n  } catch (e) {\n    console.log(e);\n  }\n} // Update advertisement - editAdvertForm is open/ Campaigns are not shown here.\n\n\nfunction* updateJobPostSaga(_ref5) {\n  let {\n    isToEdit,\n    id\n  } = _ref5;\n\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n    const {\n      jobPostNumber,\n      logo,\n      image_id,\n      jobName,\n      companyBusinessId,\n      titleSpecification,\n      workingTime,\n      jobTags,\n      job_location,\n      jobDescription,\n      is_agreement,\n      dateOfApplication,\n      is_email_notification,\n      email,\n      notice_frequency,\n      campaign_id,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n      urlToApplyJob\n    } = resultParsed;\n\n    if (isToEdit) {\n      yield put(change(\"editVacancy\", \"jobPostNumber\", jobPostNumber));\n      yield put(change(\"vacancy\", \"companyBusinessId\", companyBusinessId));\n\n      if (logo) {\n        yield put(change(\"editVacancy\", \"image_document\", logo));\n        yield put(change(\"editVacancy\", \"image_id\", image_id));\n      }\n    }\n\n    yield put(change(\"editVacancy\", \"jobName\", jobName));\n    yield put(change(\"editVacancy\", \"titleSpecification\", titleSpecification));\n    yield put(change(\"editVacancy\", \"jobDuration\", workingTime));\n    yield put(change(\"editVacancy\", \"jobCategory\", jobTags));\n    yield put(change(\"editVacancy\", \"jobLocation\", resultParsed.jobPostAddress.address));\n    yield put(change(\"editVacancy\", \"jobDescription\", jobDescription));\n    yield put(change(\"editVacancy\", \"is_agreement\", true));\n    yield put(change(\"editVacancy\", \"applicationUrl\", urlToApplyJob));\n    yield put(change(\"editVacancy\", \"lastApplicationDate\", dateOfApplication));\n    yield put(change(\"editVacancy\", \"is_email_notification\", is_email_notification));\n    yield put(change(\"editVacancy\", \"email\", email));\n    yield put(change(\"editVacancy\", \"notice_frequency\", notice_frequency));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* updateAndPublishAdvertisementSaga() {\n  try {\n    const url = `https://localhost:7262/updateJobOffer`;\n    const id = store.getState().jobs.id;\n    let response;\n    const campaignLevel = store.getState().advertisement.campaigns[0].type;\n    const {\n      jobName,\n      jobCategory,\n      titleSpecification,\n      jobDuration,\n      jobLocation,\n      applicationUrl,\n      lastApplicationDate,\n      jobDescription\n    } = getFormValues(\"editVacancy\")(store.getState());\n    let body = {\n      id,\n      jobTitle: jobName,\n      jobCategory,\n      jobType: titleSpecification,\n      jobDuration,\n      jobLocation,\n      applicationUrl,\n      lastApplicationDate,\n      jobDescription,\n      campaignLevel\n    };\n    axios.patch(url, body).then(res => {\n      response = res;\n    });\n\n    if (response === 400) {\n      yield put(saveAndPublishAdvertisementFailed());\n    } else {\n      yield put(updateAndPublishAdvertisementSuccess());\n    }\n  } catch (e) {\n    console.log(e);\n  }\n} // Update campaign\n\n\nfunction* updateCampaignSaga(_ref6) {\n  let {\n    id\n  } = _ref6;\n\n  try {\n    let response;\n    yield put(closeDialog());\n    const {\n      advertisement,\n      client,\n      companyProfile,\n      jobs\n    } = store.getState();\n    const paymentInfoForm = getFormValues(\"paymentInfo\")(store.getState());\n    const payment_method = paymentInfoForm && paymentInfoForm.payment_method; // Upgrade campaign\n\n    const url = `https://localhost:7262/updateJobOfferCampaignType`;\n    const uuid = store.getState().client.user.data[2];\n    const {\n      type,\n      includes_mktbudget\n    } = advertisement.selectedCampaign;\n    const campaign_id = advertisement.selectedCampaign.id;\n    const userRole = client.user.data[6].user_type;\n    const {\n      id\n    } = jobs;\n    const post_id = userRole === \"admin\" ? id.split(\"admin\")[0] : id;\n    const companyId = userRole === \"admin\" ? id.split(\"admin\")[1] : companyProfile.profile.company_id;\n    const campaignDate = formValueSelector(\"campaign\")(store.getState(), \"due_date\");\n    let parsedCompany = {};\n    const body = {\n      campaignType: type,\n      //uuid,\n      id,\n      //company_id: companyId,\n      campaignDate\n    };\n\n    if (includes_mktbudget) {\n      const {\n        marketing_platform,\n        more_budget,\n        marketing_budget\n      } = advertisement.marketingDetails;\n      body.marketing_platform = !!marketing_platform ? marketing_platform : null;\n      body.more_budget = !!more_budget ? more_budget : null;\n      body.marketing_budget = !!marketing_budget ? parseInt(marketing_budget) : 0;\n    } // const result = yield call(apiManualPost, url, JSON.stringify({ ...body }));\n\n\n    axios.patch(url, body).then(res => {\n      response = res;\n    });\n\n    if (response === 400) {\n      yield put(showFailedSnackbar());\n    } else {\n      yield put(showSuccessSnackbar());\n    } // if (resultParsed) {\n    //   //If admin is upgrading post or updating jobpost on behalf of companies:\n    //   if (userRole === 'admin') {\n    //     const body2 = {\n    //       company_id: parseInt(companyId),\n    //       uuid,\n    //     };\n    //     const jobPostOwner = yield call(apiManualPost, `${API_SERVER}/GetCompanyProfile`, JSON.stringify({ ...body2 }));\n    //     parsedCompany = JSON.parse(jobPostOwner.data);\n    //   }\n    //   const { company_name, business_id, firstname, lastname, email, address, zip_code, city } =\n    //     userRole === 'admin' ? parsedCompany[0] : companyProfile.profile;\n    //   const jobTitle = advertisement.viewSelectedAd.job_title;\n    //   const description = `${jobTitle} | Kampanjapaketti - ${customTranslateCampaign(campaign_id)}`;\n    //   const mkt_description = `${jobTitle} | Lisätty markkinointiraha`;\n    //   const orderId = resultParsed[0].order_id;\n    //   const previousCampaignPrice = resultParsed[0].prev_campaign_money;\n    //   const newCampaignPrice = resultParsed[0].new_campaign_money;\n    //   const amount = newCampaignPrice - previousCampaignPrice;\n    //   // If mkt budget is added.\n    //   let marketing_budget = 0;\n    //   const newMarketingBudget = resultParsed[0].marketing_budget;\n    //   if (includes_mktbudget && newMarketingBudget > 0) {\n    //     marketing_budget = newMarketingBudget;\n    //   }\n    //   const totalSum = (marketing_budget + amount) * 1.24;\n    //   // If new and more expensive campaign price OR more marketing budget, generate invoice\n    //   const details = {\n    //     company_id: companyId,\n    //     company_name,\n    //     business_id,\n    //     firstname,\n    //     lastname,\n    //     email,\n    //     address,\n    //     zip_code,\n    //     city,\n    //     description,\n    //     totalSum,\n    //     amount,\n    //     post_id: parseInt(post_id),\n    //     order_id: orderId,\n    //     marketing_budget,\n    //     mkt_description,\n    //     isSameCampaign: amount === 0 ? true : false, // Meaning same campaign but new budget\n    //     selectedCampaign: advertisement.selectedCampaign,\n    //     postIdToFetch: id,\n    //   };\n    //   if (payment_method === 'invoice') {\n    //     yield put(sendInvoiceToTalous(details));\n    //   } else if (payment_method === 'online') {\n    //     yield put(registerPayment(details));\n    //   } else {\n    //     yield put(showSuccessSnackbar());\n    //   }\n    // }\n\n  } catch (error) {\n    console.log(error);\n    yield put(showFailedSnackbar());\n  }\n}\n\nfunction* changeJobPostStatusSaga(_ref7) {\n  let {\n    id\n  } = _ref7;\n\n  try {\n    const url = `${API_SERVER}/UpdateJobPostStatus`;\n    const {\n      company_id\n    } = store.getState().companyProfile.profile;\n    const post_id = id;\n    const userRole = store.getState().client.user.data[6].user_type;\n    const body = JSON.stringify({\n      post_id: userRole === \"admin\" ? id.split(\"admin\")[0] : post_id,\n      // For admins, we need to get company id from post itself\n      company_id: userRole === \"admin\" ? id.split(\"admin\")[1] : company_id,\n      status: 2\n    });\n    const result = yield call(apiManualPost, url, body);\n\n    if (result.data === \"Job Post Status updated successfully!\") {\n      yield put(showSuccessSnackbar());\n      yield put(openAdToSeeAdInfo(id));\n    } else {\n      yield put(showFailedSnackbar());\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* saveMarketingDetailsSaga() {\n  try {\n    const formValues = getFormValues(\"marketingDetails\")(store.getState());\n    const {\n      marketing_platform,\n      more_budget,\n      marketing_budget\n    } = formValues;\n\n    if (!marketing_platform) {\n      yield put(touch(\"marketingDetails\", \"marketing_platform\"));\n      return;\n    }\n\n    if (!more_budget) {\n      yield put(touch(\"marketingDetails\", \"more_budget\"));\n      return;\n    }\n\n    if (more_budget === \"yes\") {\n      if (!marketing_budget) {\n        yield put(touch(\"marketingDetails\", \"marketing_budget\"));\n        return;\n      }\n    }\n\n    if (marketing_budget && (parseInt(marketing_budget) < 1 || !/^[0-9]+$/.test(marketing_budget))) {\n      return;\n    }\n\n    yield put(saveMarketingDetailsSuccess(formValues));\n    yield put(closeDialog());\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* displayInitialDetails(_ref8) {\n  let {\n    isToEdit\n  } = _ref8;\n\n  try {\n    if (!isToEdit) yield put(initialize(\"applicantDetails\", getFormInitialValues(\"applicantDetails\")(store.getState())));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* deleteJobPostSaga(_ref9) {\n  let {\n    id\n  } = _ref9;\n\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    const companyId = store.getState().companyProfile.profile.company_id;\n    const userRole = store.getState().client.user.data[6].user_type;\n    const body = JSON.stringify({\n      post_id: userRole === \"admin\" ? id.split(\"admin\")[0] : id,\n      company_id: userRole === \"admin\" ? id.split(\"admin\")[1] : companyId\n    }); //yield call( apiOpenRequest, url);\n\n    const result = axios.delete(url).finally(res => {});\n\n    if (userRole === \"admin\") {\n      yield put(filterJobs(result, true));\n    } else {\n      yield put(getAllAdsByStatus(0));\n      yield put(getAllAdsByStatus(1));\n      yield put(getAllAdsByStatus(2));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* saveAdvertisementAsDraft() {\n  yield put(saveAndPublishAdvertisement());\n}\n\nfunction* getApplicationDetailsByIdSaga(_ref10) {\n  let {\n    jobpostId,\n    id\n  } = _ref10;\n\n  try {\n    const url = `https://localhost:7262/jobsApplication/${id}`;\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n\n    if (resultParsed) {\n      yield put(getApplicationDetailsByIdSuccess(resultParsed));\n      yield put(openAdToSeeAdInfo(jobpostId));\n    }\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nfunction* updateApplicantStatusSaga(_ref11) {\n  let {\n    application_id,\n    company_id,\n    post_id,\n    email,\n    status\n  } = _ref11;\n\n  try {\n    const url = `${API_SERVER}/UpdateJobApplicationStatus`;\n    const body = JSON.stringify({\n      application_id,\n      company_id,\n      post_id,\n      email,\n      status\n    });\n    const result = yield call(apiManualPost, url, body);\n\n    if (result.data === \"Job Application's status updated successfully!\") {\n      //yield put(showSuccessSnackbar());\n      yield put(getApplicationDetailsById(application_id, company_id, post_id, email));\n      yield put(openAdToSeeAdInfo(post_id));\n    } else {\n      yield put(showFailedSnackbar());\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* updateJobApplicationDetailsSaga(_ref12) {\n  let {\n    application_id,\n    company_id,\n    post_id,\n    email,\n    update\n  } = _ref12;\n\n  try {\n    let body;\n    const url = `${API_SERVER}/UpdateJobApplicationDetails`;\n    const formValues = getFormValues(\"applicantDetails\")(store.getState());\n    const loggedInUser = store.getState().client.user.data[1];\n    const {\n      application_notes,\n      interview_title,\n      interview_msg,\n      interview_date,\n      interview_time,\n      interview_place\n    } = formValues;\n\n    if (update === \"note\") {\n      body = JSON.stringify({\n        application_id,\n        company_id,\n        post_id,\n        email,\n        update,\n        application_notes\n      });\n    } else {\n      body = JSON.stringify({\n        application_id,\n        company_id,\n        post_id,\n        email,\n        update,\n        interview_title,\n        interview_msg,\n        interview_date,\n        interview_time,\n        interview_place,\n        loggedInUser\n      });\n    }\n\n    const result = yield call(apiManualPost, url, body);\n\n    if (result.data === \"Job Application's details updated successfully!\" || result.data === \"Interview reminder emails sent successfully!\") {\n      yield put(showSuccessSnackbar());\n      yield put(getApplicationDetailsById(application_id, company_id, post_id, email));\n      yield put(openAdToSeeAdInfo(post_id));\n    } else {\n      yield put(showFailedSnackbar());\n    } // console.log('result', result);\n\n  } catch (e) {\n    console.log(e);\n  }\n} // Dashboard chart\n\n\nfunction* getJobPostViewsByDateSaga() {\n  try {\n    const url = `${API_SERVER}/GetJobPostViewsByDate`;\n    const {\n      company_id\n    } = store.getState().advertisement.viewSelectedAd;\n    const {\n      post_id\n    } = store.getState().advertisement.viewSelectedAd;\n    const body = JSON.stringify({\n      company_id,\n      post_id\n    });\n    const result = yield call(apiManualPost, url, body);\n    const resultParsed = JSON.parse(result.data);\n\n    if (resultParsed) {\n      yield put(getJobPostViewsByDateSuccess(resultParsed));\n    }\n  } catch (e) {\n    console.log(e);\n  }\n} //DELETE APPLICATION SAGA\n\n\nfunction* deleteApplicationSaga() {\n  try {\n    const id = store.getState().jobs.jobApplicantsId;\n    const url = `https://localhost:7262/jobsApplication/${id}`;\n    const {\n      selectedAd\n    } = store.getState().advertisement;\n    const result = yield call(apiManualDelete, url);\n\n    if (result.data === \"Job application successfully deleted\") {\n      yield put(openAdToSeeAdInfo(selectedAd));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* changeRouteSaga() {\n  try {\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    if (userRole === \"company\") {\n      browserHistory.push(\"/omat-ilmoitukseni\");\n    }\n\n    if (userRole === \"admin\") {\n      browserHistory.push(\"/lisapalvelu\");\n    }\n\n    yield put(null); //Yield statement for generator function\n  } catch (error) {\n    console.log(error);\n  }\n} // When navigateAdsFromMainMenu is dispatched, we want to ensure the page lands to 0 index.\n\n\nfunction* changePaginationSaga() {\n  yield put(changeAdvertPage({\n    selected: 0\n  }));\n}\n\nfunction* adminGetUserCompanyProfileSaga(_ref13) {\n  let {\n    id\n  } = _ref13;\n  const url = `${API_SERVER}/GetCompanyProfile`;\n\n  try {\n    const uuid = store.getState().client.user.data[2];\n    const body = JSON.stringify({\n      company_id: id,\n      uuid\n    });\n    const result = yield call(apiManualPost, url, body);\n    const resultParsed = JSON.parse(result.data)[0];\n    yield put(getCompanyProfileSuccess(resultParsed));\n  } catch (e) {\n    console.log(e);\n  }\n} // Automatic answers with email messages saga\n\n\nfunction* populateEmailMessageSaga(_ref14) {\n  var _store$getState$users;\n\n  let {\n    languages\n  } = _ref14;\n  const companyName = (_store$getState$users = store.getState().usersCompanyList.selectedCompany) === null || _store$getState$users === void 0 ? void 0 : _store$getState$users.company_name;\n  const storedLanguages = formValueSelector(\"vacancy\")(store.getState(), \"email_language\");\n  const isToSendAutoEmail = store.getState().advertisement.automaticEmailToggleBtn;\n\n  try {\n    if (isToSendAutoEmail) {\n      const messages = messageTemplate(companyName, languages ? languages : storedLanguages);\n      yield put(change(\"vacancy\", \"email_message\", messages));\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* watchsaveAndPublishAdvertisementSaga() {\n  yield takeEvery(SAVE_AND_PUBLISH_ADVERTISEMENT, saveAndPublishAdvertisementSaga);\n}\nexport function* watchupdateAndPublishAdvertisementSaga() {\n  yield takeEvery(UPDATE_AND_PUBLISH_ADVERTISEMENT, updateAndPublishAdvertisementSaga);\n}\nexport function* watchSaveAdvertisementAsDraft() {\n  yield takeEvery(SAVE_ADVERTISEMENT_AS_DRAFT, saveAdvertisementAsDraft);\n}\nexport function* watchgetAllCampaignsSaga() {\n  yield takeEvery(GET_ALL_CAMPAIGNS, getAllCampaignsSaga);\n}\nexport function* watchgetAllJobCategorysSaga() {\n  yield takeEvery(GET_ALL_JOB_CATEGORY, getAllJobCategorySaga);\n}\nexport function* watchgetAllAdsByStatusSaga() {\n  yield takeEvery(GET_ALL_ADS_BY_STATUS, getAllAdsByStatusSaga);\n}\nexport function* watchgetJobPostByPostIdSaga() {\n  yield takeEvery(OPEN_AD_TO_SEE_AD_INFO, getJobPostByPostIdSaga);\n}\nexport function* watchdeleteJobPostSaga() {\n  yield takeEvery(DELETE_JOB_OFFER, deleteJobPostSaga);\n}\nexport function* watchupdateJobPostSaga() {\n  yield takeEvery(UPDATE_ADVERTISEMENT, updateJobPostSaga);\n}\nexport function* watchpopulateVacancyFormSaga() {\n  yield takeEvery(POPULATE_VACANCY_FORM, populateVacancyFormSaga);\n} // for ee\n\nexport function* watcheditVacancyFormSaga() {\n  yield takeEvery(EDIT_VACANCY_FORM, editVacancyFormSaga);\n}\nexport function* watchupdateCampaignSaga() {\n  yield takeEvery(SAVE_NEW_CAMPAIGN, updateCampaignSaga);\n}\nexport function* watchchangeJobPostStatusSaga() {\n  yield takeEvery(CHANGE_ACTIVE_POST_TO_INACTIVE, changeJobPostStatusSaga);\n}\nexport function* watchgetApplicationDetailsByIdSaga() {\n  yield takeEvery(GET_APPLICATION_DETAILS_BY_ID, getApplicationDetailsByIdSaga);\n}\nexport function* watchupdateApplicantStatusSaga() {\n  yield takeEvery(UPDATE_APPLICANT_STATUS, updateApplicantStatusSaga);\n}\nexport function* watchupdateJobApplicationDetailsSaga() {\n  yield takeEvery(UPDATE_JOB_APPLICATION_DETAILS, updateJobApplicationDetailsSaga);\n}\nexport function* watchgetJobPostViewsByDateSaga() {\n  yield takeEvery(GET_JOBPOST_VIEWS_BY_DATE, getJobPostViewsByDateSaga);\n}\nexport function* watchchangePaginationSaga() {\n  yield takeEvery(NAVIGATE_ADS_FROM_MAIN_MENU, changePaginationSaga);\n  yield takeEvery(OPEN_AD_TO_SEE_AD_INFO, changePaginationSaga);\n}\nexport function* watchEditInterviewDetailsSaga() {\n  yield takeEvery(EDIT_INTERVIEW_DETAILS, displayInitialDetails);\n}\nexport function* watchSaveMarketingDetailsSaga() {\n  yield takeEvery(SAVE_MARKETING_DETAILS, saveMarketingDetailsSaga);\n}\nexport function* watchdeleteApplicationSaga() {\n  yield takeEvery(DELETE_APPLICATION, deleteApplicationSaga);\n}\nexport function* watchChangeRouteSaga() {\n  yield takeEvery(CHANGE_ROUTE, changeRouteSaga);\n}\nexport function* watchAdminGetUserCompanyProfileSaga() {\n  yield takeEvery(ADMIN_GET_USER_PROFILE, adminGetUserCompanyProfileSaga);\n}\nexport function* watchPopulateEmailMessageSaga() {\n  yield takeEvery(POPULATE_EMAIL_MESSAGE, populateEmailMessageSaga);\n  yield takeEvery(AUTO_EMAIL_TO_APPLICANT, populateEmailMessageSaga);\n}","map":{"version":3,"names":["useState","takeEvery","put","call","getFormValues","change","formValueSelector","initialize","getFormInitialValues","touch","SAVE_AND_PUBLISH_ADVERTISEMENT","UPDATE_AND_PUBLISH_ADVERTISEMENT","API_SERVER","API_SERVER_EST","API_SERVER_EST_GET_ID","GET_ALL_CAMPAIGNS","OPEN_AD_TO_SEE_AD_INFO","UPDATE_ADVERTISEMENT","POPULATE_VACANCY_FORM","DELETE_ADVERTISEMENT","GET_ALL_JOB_CATEGORY","GET_ALL_ADS_BY_STATUS","SAVE_ADVERTISEMENT_AS_DRAFT","SAVE_NEW_CAMPAIGN","CHANGE_ACTIVE_POST_TO_INACTIVE","GET_APPLICATION_DETAILS_BY_ID","UPDATE_APPLICANT_STATUS","GET_JOBPOST_VIEWS_BY_DATE","NAVIGATE_ADS_FROM_MAIN_MENU","UPDATE_JOB_APPLICATION_DETAILS","EDIT_INTERVIEW_DETAILS","SAVE_MARKETING_DETAILS","DELETE_APPLICATION","CHANGE_ROUTE","ADMIN_GET_USER_PROFILE","HELP_SERVICE_FEE","SOS_SERVICE_FEE","POPULATE_EMAIL_MESSAGE","AUTO_EMAIL_TO_APPLICANT","EDIT_VACANCY_FORM","DELETE_JOB_OFFER","store","apiManualRequest","apiManualPost","apiOpenRequest","apiGetJobsOffers","apiManualDelete","filterObj","getAllCampaignsSuccess","saveAndPublishAdvertisementSuccess","getAllJobCategorySuccess","saveAndPublishAdvertisementFailed","getAllAdsByStatusSuccess","saveAndPublishAdvertisement","showSuccessSnackbar","showFailedSnackbar","openAdToSeeAdInfo","populateVacancyFormSuccess","updateAndPublishAdvertisementSuccess","getApplicationDetailsById","getApplicationDetailsByIdSuccess","getJobPostViewsByDateSuccess","changeAdvertPage","getAllAdsByStatus","filterJobs","hideSpinner","saveMarketingDetailsSuccess","closeDialog","registerPayment","sendInvoiceToTalous","getCompanyProfileSuccess","openAdToSeeAdInfoSuccess","getJobsOffers","getAllJobCategoryFromEstoniaSuccess","editVacancyForm","customTranslateCampaign","browserHistory","messageTemplate","axios","useSelector","getAllCampaignsSaga","url","result","resultParsed","JSON","parse","data","error","console","log","getAllJobCategorySaga","saveAndPublishAdvertisementSaga","body","response","parsedCompany","advertisement","client","companyProfile","getState","formValues","paymentInfoForm","uuid","user","userRole","user_type","payment_method","companyId","profile","company_id","companyDetails","parseInt","jobPostOwner","stringify","selectedCampaign","isDraft","isToEdit","uploadedImage","marketingDetails","extraService","refinedUploadedImage","name","replace","refinedFormValues","statusToUpdate","help","sos","type","selectedService","id","jobTitle","jobCategory","jobType","jobDuration","jobLocation","applicationUrl","lastApplicationDate","jobDescription","campaignLevel","post","then","res","getJobPostByPostIdSaga","jobs","companyBusinessId","jobsList","getAllAdsByStatusSaga","status","usersCompanyList","roleId","selectedCompanyId","selectedCompany","assignedCompanyId","populateVacancyFormSaga","campaigns","jobPostNumber","split","company_image","image_id","jobName","titleSpecification","workingTime","jobTags","job_location","is_agreement","dateOfApplication","is_email_notification","email","notice_frequency","campaign_id","marketing_platform","more_budget","marketing_budget","urlToApplyJob","jobPostAddress","address","postCampaign","find","campaign","campaignDetails","e","editVacancyFormSaga","updateJobPostSaga","logo","updateAndPublishAdvertisementSaga","patch","updateCampaignSaga","includes_mktbudget","post_id","campaignDate","campaignType","changeJobPostStatusSaga","saveMarketingDetailsSaga","test","displayInitialDetails","deleteJobPostSaga","delete","finally","saveAdvertisementAsDraft","getApplicationDetailsByIdSaga","jobpostId","message","updateApplicantStatusSaga","application_id","updateJobApplicationDetailsSaga","update","loggedInUser","application_notes","interview_title","interview_msg","interview_date","interview_time","interview_place","getJobPostViewsByDateSaga","viewSelectedAd","deleteApplicationSaga","jobApplicantsId","selectedAd","changeRouteSaga","push","changePaginationSaga","selected","adminGetUserCompanyProfileSaga","populateEmailMessageSaga","languages","companyName","company_name","storedLanguages","isToSendAutoEmail","automaticEmailToggleBtn","messages","watchsaveAndPublishAdvertisementSaga","watchupdateAndPublishAdvertisementSaga","watchSaveAdvertisementAsDraft","watchgetAllCampaignsSaga","watchgetAllJobCategorysSaga","watchgetAllAdsByStatusSaga","watchgetJobPostByPostIdSaga","watchdeleteJobPostSaga","watchupdateJobPostSaga","watchpopulateVacancyFormSaga","watcheditVacancyFormSaga","watchupdateCampaignSaga","watchchangeJobPostStatusSaga","watchgetApplicationDetailsByIdSaga","watchupdateApplicantStatusSaga","watchupdateJobApplicationDetailsSaga","watchgetJobPostViewsByDateSaga","watchchangePaginationSaga","watchEditInterviewDetailsSaga","watchSaveMarketingDetailsSaga","watchdeleteApplicationSaga","watchChangeRouteSaga","watchAdminGetUserCompanyProfileSaga","watchPopulateEmailMessageSaga"],"sources":["/Users/eduardkazeks/Documents/GitHub/JobPortalEE/src/sagas/advertisements.saga.js"],"sourcesContent":["import { useState } from \"react\";\nimport { takeEvery, put, call } from \"redux-saga/effects\";\nimport {\n  getFormValues,\n  change,\n  formValueSelector,\n  initialize,\n  getFormInitialValues,\n  touch,\n} from \"redux-form\";\nimport {\n  SAVE_AND_PUBLISH_ADVERTISEMENT,\n  UPDATE_AND_PUBLISH_ADVERTISEMENT,\n  API_SERVER,\n  API_SERVER_EST,\n  API_SERVER_EST_GET_ID,\n  GET_ALL_CAMPAIGNS,\n  OPEN_AD_TO_SEE_AD_INFO,\n  UPDATE_ADVERTISEMENT,\n  POPULATE_VACANCY_FORM,\n  DELETE_ADVERTISEMENT,\n  GET_ALL_JOB_CATEGORY,\n  GET_ALL_ADS_BY_STATUS,\n  SAVE_ADVERTISEMENT_AS_DRAFT,\n  SAVE_NEW_CAMPAIGN,\n  CHANGE_ACTIVE_POST_TO_INACTIVE,\n  GET_APPLICATION_DETAILS_BY_ID,\n  UPDATE_APPLICANT_STATUS,\n  GET_JOBPOST_VIEWS_BY_DATE,\n  NAVIGATE_ADS_FROM_MAIN_MENU,\n  UPDATE_JOB_APPLICATION_DETAILS,\n  EDIT_INTERVIEW_DETAILS,\n  SAVE_MARKETING_DETAILS,\n  DELETE_APPLICATION,\n  CHANGE_ROUTE,\n  ADMIN_GET_USER_PROFILE,\n  HELP_SERVICE_FEE,\n  SOS_SERVICE_FEE,\n  POPULATE_EMAIL_MESSAGE,\n  AUTO_EMAIL_TO_APPLICANT,\n  EDIT_VACANCY_FORM,\n  DELETE_JOB_OFFER,\n} from \"../constants\";\nimport store from \"../store\";\nimport {\n  apiManualRequest,\n  apiManualPost,\n  apiOpenRequest,\n  apiGetJobsOffers,\n  apiManualDelete,\n} from \"../utils/request\";\nimport { filterObj } from \"../utils/wrappers\";\nimport {\n  getAllCampaignsSuccess,\n  saveAndPublishAdvertisementSuccess,\n  getAllJobCategorySuccess,\n  saveAndPublishAdvertisementFailed,\n  getAllAdsByStatusSuccess,\n  saveAndPublishAdvertisement,\n  showSuccessSnackbar,\n  showFailedSnackbar,\n  openAdToSeeAdInfo,\n  populateVacancyFormSuccess,\n  updateAndPublishAdvertisementSuccess,\n  getApplicationDetailsById,\n  getApplicationDetailsByIdSuccess,\n  getJobPostViewsByDateSuccess,\n  changeAdvertPage,\n  getAllAdsByStatus,\n  filterJobs,\n  hideSpinner,\n  saveMarketingDetailsSuccess,\n  closeDialog,\n  registerPayment,\n  sendInvoiceToTalous,\n  getCompanyProfileSuccess,\n  openAdToSeeAdInfoSuccess,\n  getJobsOffers,\n  getAllJobCategoryFromEstoniaSuccess,\n  editVacancyForm,\n} from \"../actions\";\nimport { customTranslateCampaign } from \"../utils/customTranslate\";\nimport browserHistory from \"../history\";\nimport { messageTemplate } from \"../components/companies/advertisements/automaticMessageToApplicants/messages\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\n\nfunction* getAllCampaignsSaga() {\n  try {\n    const url = `${API_SERVER}/GetCampaigns`;\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = JSON.parse(result.data);\n    yield put(getAllCampaignsSuccess(resultParsed));\n  } catch (error) {\n    console.log(error);\n  }\n}\nfunction* getAllJobCategorySaga() {\n  try {\n    const url = `${API_SERVER}/GetJobCategories`;\n    const result = yield call(apiOpenRequest, url);\n    const resultParsed = JSON.parse(result.data);\n    yield put(getAllJobCategorySuccess(resultParsed));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* saveAndPublishAdvertisementSaga() {\n  try {\n    let url;\n    let body;\n    let response;\n    let parsedCompany = {};\n\n    const { advertisement, client, companyProfile } = store.getState();\n    const formValues = getFormValues(\"vacancy\")(store.getState());\n    const paymentInfoForm = getFormValues(\"paymentInfo\")(store.getState());\n    const uuid = client.user.data[2];\n    const userRole = client.user.data[6].user_type;\n    const payment_method = paymentInfoForm && paymentInfoForm.payment_method;\n    const companyId = companyProfile.profile.company_id;\n\n    if (!formValues.company_id) {\n      formValues.company_id = companyId; // Also sending company_id to add company specific post.\n    }\n\n    yield put(closeDialog());\n\n    if (userRole === \"admin\") {\n      const companyDetails = {\n        company_id: parseInt(formValues.company_id),\n        uuid,\n      };\n      const jobPostOwner = yield call(\n        apiManualPost,\n        `${API_SERVER}/GetCompanyProfile`,\n        JSON.stringify({ ...companyDetails })\n      );\n      parsedCompany = JSON.parse(jobPostOwner.data);\n    }\n\n    const {\n      selectedCampaign,\n      isDraft,\n      isToEdit,\n      uploadedImage,\n      marketingDetails,\n      extraService,\n    } = advertisement;\n    const refinedUploadedImage =\n      uploadedImage &&\n      uploadedImage.name &&\n      uploadedImage.name.replace(/\\s+\\(\\d+\\)/g, \"JP\"); // If stored filename has (int), dropzone doesn't understand the path..so changing such names before sending to db.\n    const refinedFormValues = filterObj(\"image_document\", formValues);\n\n   \n    url = `${API_SERVER_EST}/postJob`;\n\n\n    const statusToUpdate =\n      isDraft || extraService.help || extraService.sos\n        ? 0\n        : selectedCampaign.type === \"free\"\n        ? 1\n        : 4;\n\n    const selectedService = extraService.help\n      ? \"help\"\n      : extraService.sos\n      ? \"sos\"\n      : null;\n\n    // // image_document array means, it already exists in db, no need to send while updating\n    // if (Array.isArray(formValues.image_document) === true) {\n    //   body = {\n    //     ...refinedFormValues,\n    //     uuid,\n    //     campaign_type: selectedCampaign.type,\n    //     status: statusToUpdate,\n    //     extra_service: selectedService,\n    //   };\n    // } else if (!uploadedImage.name) {\n    //   // no uploaded image means, no need to send any base64. Also, if there is an image stored in db..and we want to delete it, I am changing the formvalues of image_document in component\n    //   body = {\n    //     ...formValues,\n    //     uuid,\n    //     campaignLevel: selectedCampaign.type,\n    //     status: statusToUpdate,\n    //     extra_service: selectedService,\n    //   };\n    // } else if (\n    //   uploadedImage.name &&\n    //   !Array.isArray(formValues.image_document)\n    // ) {\n    //   const base64 = formValues.image_document;\n    //   body = {\n    //     ...formValues,\n    //     uuid,\n    //     campaignLevel: selectedCampaign.type,\n    //     status: statusToUpdate,\n    //     image_document: {\n    //       uuid,\n    //       document_id: uploadedImage.id,\n    //       path: \"\",\n    //       filename: refinedUploadedImage,\n    //       filetype: uploadedImage.type,\n    //       data: base64,\n    //     },\n    //     extra_service: selectedService,\n    //   };\n    // }\n    // if (selectedCampaign.includes_mktbudget) {\n    //   const {\n    //     marketing_platform,\n    //     more_budget,\n    //     marketing_budget,\n    //   } = marketingDetails;\n    //   body.marketing_platform = !!marketing_platform\n    //     ? marketing_platform\n    //     : null;\n    //   body.more_budget = !!more_budget ? more_budget : null;\n    //   body.marketing_budget = !!marketing_budget\n    //     ? parseInt(marketing_budget)\n    //     : 0;\n    // }\n    // SAVING AND PUBLISHING JOBPOST\n    body = {\n      id,\n      jobTitle,\n      jobCategory,\n      jobType,\n      jobDuration,\n      jobLocation,\n      applicationUrl,\n      lastApplicationDate,\n      jobDescription,\n      campaignLevel,\n      isDraft\n    }\n    axios.post(url,body).then((res)=>{response=res})\n    if(response === 400)\n    {\n      yield put(saveAndPublishAdvertisement())\n    }\n    else{\n      yield put(saveAndPublishAdvertisementSuccess())\n    }\n    // response = result.data.status\n    \n\n    // const parsedResult = JSON.parse(result.data);\n\n    // If publishing post, Generate invoice under the hood via Talousvirta API or online payment via NETS\n\n    // if (parsedResult) {\n    //   const { company_name, business_id, firstname, lastname, email, address, zip_code, city } =\n    //     userRole === 'admin' ? parsedCompany[0] : companyProfile.profile;\n    //   const jobTitle = formValues.job_title;\n    //   const postId = parsedResult[0].post_id;\n    //   const orderId = parsedResult[0].order_id;\n    //   const publishedPostStatus = parsedResult[0].job_post_status;\n    //   const description = `${jobTitle} | Kampanjapaketti - ${customTranslateCampaign(selectedCampaign.id)}`;\n    //   const mkt_description = `${jobTitle} | Lisätty markkinointiraha`;\n\n    //   const extra_service_description = `Aktivoitu lisäpalvelu | ${extraService.help ? 'HELP' : 'SOS'}`;\n\n    //   // If mkt budget is added with campaigns with mkt budget, i.e. 5th campaign for now.\n    //   let marketing_budget = 0;\n    //   if (selectedCampaign.includes_mktbudget && !!parsedResult[0].marketing_budget) {\n    //     marketing_budget = parsedResult[0].marketing_budget;\n    //   }\n\n    //   const extra_service_fee = extraService.help ? HELP_SERVICE_FEE : extraService.sos ? SOS_SERVICE_FEE : 0;\n\n    //   if (\n    //     (publishedPostStatus === 0 && extra_service_fee > 0) || // If help and sos are added as extra service\n    //     publishedPostStatus === 4 // If paid campaigns are selected, temporary placeholder status\n    //   ) {\n    //     const isExtraServiceAdded = publishedPostStatus === 0 && extra_service_fee > 0 ? true : false;\n    //     const extra_service_fee_with_vat = extra_service_fee * 1.24; // Total price for the extra service including vat\n\n    //     const amount = parsedResult[0].job_post_campaign_money;\n    //     const totalSum = (marketing_budget + amount) * 1.24;\n\n    //     const details = {\n    //       company_id: formValues.company_id,\n    //       company_name,\n    //       business_id,\n    //       firstname,\n    //       lastname,\n    //       email,\n    //       address,\n    //       zip_code,\n    //       city,\n    //       description: isExtraServiceAdded ? extra_service_description : description,\n    //       totalSum: isExtraServiceAdded ? extra_service_fee_with_vat : totalSum,\n    //       amount: isExtraServiceAdded ? extra_service_fee : amount,\n    //       post_id: postId,\n    //       order_id: orderId,\n    //       marketing_budget,\n    //       mkt_description,\n    //       selectedCampaign,\n    //     };\n\n    //     if (payment_method === 'invoice') {\n    //       yield put(sendInvoiceToTalous(details));\n    //     } else if (payment_method === 'online') {\n    //       \\ put(registerPayment(details));\n    //     }\n    //   }\n    //   // Post saved as a draft or free campaign or help/sos feature\n    //   //if (parsedResult[0].job_post_status !== 4)\n    //   else {\n    //     yield put(saveAndPublishAdvertisementSuccess());\n    //   }\n    // } else {\n    //   yield put(saveAndPublishAdvertisementFailed());\n    // }\n  } catch (error) {\n    console.log(error);\n    yield put(saveAndPublishAdvertisementFailed());\n  }\n}\n\nfunction* getJobPostByPostIdSaga({}) {\n  try {\n    const id = store.getState().jobs.id;\n    const url = `${API_SERVER_EST}/${id}`;\n    const companyBusinessId = store.getState().jobs.jobsList.companyBusinessId;\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    const result = yield call(apiOpenRequest, url);\n    const resultParsed = result.data;\n    yield put(openAdToSeeAdInfoSuccess(resultParsed));\n  } catch (error) {\n    console.log(error);\n    yield put(hideSpinner());\n  }\n}\n\nfunction* getAllAdsByStatusSaga({ status }) {\n  try {\n    const url = `${API_SERVER}/SearchJobPosts`;\n    const { client, usersCompanyList, companyProfile } = store.getState();\n    const uuid = client.user.data[2];\n    const roleId = client.user.data[5];\n    let selectedCompanyId;\n    selectedCompanyId = usersCompanyList.selectedCompany.company_id;\n    const assignedCompanyId = client.user.data[6].company_id;\n\n    if (!selectedCompanyId) {\n      // For first time registered users, client company_id is null since user profile is not updated\n      selectedCompanyId = companyProfile.profile.company_id;\n    }\n\n    const company_id = roleId === 0 ? selectedCompanyId : assignedCompanyId; //super user with many companies\n    const body = JSON.stringify({\n      status,\n      uuid,\n      company_id,\n    });\n\n    const result = yield call(apiManualPost, url, body);\n    const resultParsed = JSON.parse(result.data);\n    yield put(getAllAdsByStatusSuccess(status, resultParsed));\n  } catch (error) {\n    console.log(error);\n  }\n}\n// Populating vacancy form when editing or copying\nfunction* populateVacancyFormSaga({ id, isToEdit }) {\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    //const companyBusinessId = store.getState().jobs.companyBusinessId;\n    const campaigns = store.getState().advertisement.campaigns;\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    const body = JSON.stringify({\n      jobPostNumber: userRole === \"admin\" ? id.split(\"admin\")[0] : id,\n      //companyBusinessId: userRole === 'admin' ? id.split('admin')[1] : companyBusinessId,\n    });\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n    console.log(resultParsed);\n    // console.log('resultParsed', resultParsed);\n    // If we are populating from Draft Component, we are editing--> call UpdateJobPost API, it needs company_id && post_id which is being sent along with the vacancy form!\n\n    const {\n      jobPostNumber,\n      //companyBusinessId,\n      company_image,\n      image_id,\n      jobName,\n      titleSpecification,\n      workingTime,\n      jobTags,\n      job_location,\n      jobDescription,\n      is_agreement,\n      dateOfApplication,\n      is_email_notification,\n      email,\n      notice_frequency,\n      campaign_id,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n      urlToApplyJob,\n    } = resultParsed;\n\n    if (isToEdit) {\n      yield put(change(\"vacancy\", \"jobPostNumber\", jobPostNumber));\n      // yield put(change('vacancy', 'company_id', company_id));\n      if (company_image) {\n        yield put(change(\"vacancy\", \"image_document\", company_image));\n        yield put(change(\"vacancy\", \"image_id\", image_id));\n      }\n    }\n    yield put(change(\"vacancy\", \"jobTitle\", jobName));\n    yield put(change(\"vacancy\", \"jobType\", titleSpecification));\n    yield put(change(\"vacancy\", \"jobLocation\", workingTime));\n    yield put(change(\"vacancy\", \"jobCategory\", jobTags));\n    yield put(\n      change(\"vacancy\", \"jobLocation\", resultParsed.jobPostAddress.address)\n    );\n    yield put(change(\"vacancy\", \"jobDescription\", jobDescription));\n    yield put(change(\"vacancy\", \"is_agreement\", true));\n    yield put(change(\"vacancy\", \"applicationUrl\", urlToApplyJob));\n\n    yield put(change(\"vacancy\", \"lastApplicationDate\", dateOfApplication));\n    yield put(\n      change(\"vacancy\", \"is_email_notification\", is_email_notification)\n    );\n    yield put(change(\"vacancy\", \"email\", email));\n    yield put(change(\"vacancy\", \"notice_frequency\", notice_frequency));\n\n    const postCampaign = campaigns.find(\n      (campaign) => campaign.id === campaign_id\n    );\n\n    const campaignDetails = {\n      postCampaign,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n    };\n\n     yield put(populateVacancyFormSuccess(campaignDetails, isToEdit));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* editVacancyFormSaga({ id, isToEdit }) {\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    const campaigns = store.getState().advertisement.campaigns;\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    const body = JSON.stringify({\n      jobPostNumber: userRole === \"admin\" ? id.split(\"admin\")[0] : id,\n    });\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n    // If we are populating from Draft Component, we are editing--> call UpdateJobPost API, it needs company_id && post_id which is being sent along with the vacancy form!\n\n    const {\n      jobPostNumber,\n      company_image,\n      image_id,\n      jobName,\n      titleSpecification,\n      workingTime,\n      jobTags,\n      job_location,\n      jobDescription,\n      is_agreement,\n      dateOfApplication,\n      is_email_notification,\n      email,\n      notice_frequency,\n      campaign_id,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n      urlToApplyJob,\n    } = resultParsed;\n\n    if (isToEdit) {\n      yield put(change(\"editVacancy\", \"jobPostNumber\", jobPostNumber));\n      // yield put(change('vacancy', 'company_id', company_id));\n      if (company_image) {\n        yield put(change(\"editVacancy\", \"image_document\", company_image));\n        yield put(change(\"editVacancy\", \"image_id\", image_id));\n      }\n    }\n    yield put(change(\"editVacancy\", \"jobTitle\", jobName));\n    yield put(change(\"editVacancy\", \"jobType\", titleSpecification));\n    yield put(change(\"editVacancy\", \"jobDuration\", workingTime));\n    yield put(change(\"editVacancy\", \"jobCategory\", jobTags));\n    // yield put(change('editVacancy', 'jobLocation', resultParsed.jobPostAddress.address));\n    yield put(change(\"editVacancy\", \"jobDescription\", jobDescription));\n    yield put(change(\"editVacancy\", \"is_agreement\", true));\n    yield put(change(\"editVacancy\", \"applicationUrl\", urlToApplyJob));\n\n    yield put(change(\"editVacancy\", \"lastApplicationDate\", dateOfApplication));\n    yield put(\n      change(\"editVacancy\", \"is_email_notification\", is_email_notification)\n    );\n    yield put(change(\"editVacancy\", \"email\", email));\n    yield put(change(\"editVacancy\", \"notice_frequency\", notice_frequency));\n\n    const postCampaign = campaigns.find(\n      (campaign) => campaign.id === campaign_id\n    );\n\n    const campaignDetails = {\n      postCampaign,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n    };\n\n    yield put(populateVacancyFormSuccess(campaignDetails, isToEdit));\n  } catch (e) {\n    console.log(e);\n  }\n}\n// Update advertisement - editAdvertForm is open/ Campaigns are not shown here.\n\nfunction* updateJobPostSaga({ isToEdit, id }) {\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n\n    const {\n      jobPostNumber,\n      logo,\n      image_id,\n      jobName,\n      companyBusinessId,\n      titleSpecification,\n      workingTime,\n      jobTags,\n      job_location,\n      jobDescription,\n      is_agreement,\n      dateOfApplication,\n      is_email_notification,\n      email,\n      notice_frequency,\n      campaign_id,\n      marketing_platform,\n      more_budget,\n      marketing_budget,\n      urlToApplyJob,\n    } = resultParsed;\n\n    if (isToEdit) {\n      yield put(change(\"editVacancy\", \"jobPostNumber\", jobPostNumber));\n      yield put(change(\"vacancy\", \"companyBusinessId\", companyBusinessId));\n      if (logo) {\n        yield put(change(\"editVacancy\", \"image_document\", logo));\n        yield put(change(\"editVacancy\", \"image_id\", image_id));\n      }\n    }\n    yield put(change(\"editVacancy\", \"jobName\", jobName));\n    yield put(change(\"editVacancy\", \"titleSpecification\", titleSpecification));\n    yield put(change(\"editVacancy\", \"jobDuration\", workingTime));\n    yield put(change(\"editVacancy\", \"jobCategory\", jobTags));\n    yield put(\n      change(\"editVacancy\", \"jobLocation\", resultParsed.jobPostAddress.address)\n    );\n    yield put(change(\"editVacancy\", \"jobDescription\", jobDescription));\n    yield put(change(\"editVacancy\", \"is_agreement\", true));\n    yield put(change(\"editVacancy\", \"applicationUrl\", urlToApplyJob));\n\n    yield put(change(\"editVacancy\", \"lastApplicationDate\", dateOfApplication));\n    yield put(\n      change(\"editVacancy\", \"is_email_notification\", is_email_notification)\n    );\n    yield put(change(\"editVacancy\", \"email\", email));\n    yield put(change(\"editVacancy\", \"notice_frequency\", notice_frequency));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* updateAndPublishAdvertisementSaga() {\n  try {\n    const url = `https://localhost:7262/updateJobOffer`;\n    const id = store.getState().jobs.id;\n    let response;\n    const campaignLevel = store.getState().advertisement.campaigns[0].type;\n    const {\n      jobName,\n      jobCategory,\n      titleSpecification,\n      jobDuration,\n      jobLocation,\n      applicationUrl,\n      lastApplicationDate,\n      jobDescription,\n    } = getFormValues(\"editVacancy\")(store.getState());\n    let body = {\n      id,\n      jobTitle: jobName,\n      jobCategory,\n      jobType: titleSpecification,\n      jobDuration,\n      jobLocation,\n      applicationUrl,\n      lastApplicationDate,\n      jobDescription,\n      campaignLevel,\n    };\n\n    axios.patch(url,body).then((res)=>{response=res})\n    if(response === 400)\n    {\n      yield put(saveAndPublishAdvertisementFailed())\n    }\n    else{\n      yield put(updateAndPublishAdvertisementSuccess())\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Update campaign\nfunction* updateCampaignSaga({ id }) {\n  try {\n    let response;\n    yield put(closeDialog());\n\n    const { advertisement, client, companyProfile, jobs } = store.getState();\n    const paymentInfoForm = getFormValues(\"paymentInfo\")(store.getState());\n    const payment_method = paymentInfoForm && paymentInfoForm.payment_method;\n\n    // Upgrade campaign\n    const url = `https://localhost:7262/updateJobOfferCampaignType`;\n    const uuid = store.getState().client.user.data[2];\n    const { type, includes_mktbudget } = advertisement.selectedCampaign;\n    const campaign_id = advertisement.selectedCampaign.id;\n    const userRole = client.user.data[6].user_type;\n    const { id } = jobs;\n    const post_id = userRole === \"admin\" ? id.split(\"admin\")[0] : id;\n    const companyId =\n      userRole === \"admin\"\n        ? id.split(\"admin\")[1]\n        : companyProfile.profile.company_id;\n    const campaignDate = formValueSelector(\"campaign\")(\n      store.getState(),\n      \"due_date\"\n    );\n    let parsedCompany = {};\n\n    const body = {\n      campaignType: type,\n      //uuid,\n      id,\n      //company_id: companyId,\n      campaignDate,\n    };\n\n    if (includes_mktbudget) {\n      const {\n        marketing_platform,\n        more_budget,\n        marketing_budget,\n      } = advertisement.marketingDetails;\n\n      body.marketing_platform = !!marketing_platform\n        ? marketing_platform\n        : null;\n      body.more_budget = !!more_budget ? more_budget : null;\n      body.marketing_budget = !!marketing_budget\n        ? parseInt(marketing_budget)\n        : 0;\n    }\n\n    // const result = yield call(apiManualPost, url, JSON.stringify({ ...body }));\n    axios.patch(url,body).then((res)=>{response=res})\n    if(response === 400)\n    {\n      yield put(showFailedSnackbar())\n    }\n    else{\n      yield put(showSuccessSnackbar())\n    }\n\n    // if (resultParsed) {\n    //   //If admin is upgrading post or updating jobpost on behalf of companies:\n    //   if (userRole === 'admin') {\n    //     const body2 = {\n    //       company_id: parseInt(companyId),\n    //       uuid,\n    //     };\n    //     const jobPostOwner = yield call(apiManualPost, `${API_SERVER}/GetCompanyProfile`, JSON.stringify({ ...body2 }));\n    //     parsedCompany = JSON.parse(jobPostOwner.data);\n    //   }\n\n    //   const { company_name, business_id, firstname, lastname, email, address, zip_code, city } =\n    //     userRole === 'admin' ? parsedCompany[0] : companyProfile.profile;\n    //   const jobTitle = advertisement.viewSelectedAd.job_title;\n    //   const description = `${jobTitle} | Kampanjapaketti - ${customTranslateCampaign(campaign_id)}`;\n    //   const mkt_description = `${jobTitle} | Lisätty markkinointiraha`;\n\n    //   const orderId = resultParsed[0].order_id;\n    //   const previousCampaignPrice = resultParsed[0].prev_campaign_money;\n    //   const newCampaignPrice = resultParsed[0].new_campaign_money;\n    //   const amount = newCampaignPrice - previousCampaignPrice;\n\n    //   // If mkt budget is added.\n    //   let marketing_budget = 0;\n    //   const newMarketingBudget = resultParsed[0].marketing_budget;\n    //   if (includes_mktbudget && newMarketingBudget > 0) {\n    //     marketing_budget = newMarketingBudget;\n    //   }\n    //   const totalSum = (marketing_budget + amount) * 1.24;\n\n    //   // If new and more expensive campaign price OR more marketing budget, generate invoice\n\n    //   const details = {\n    //     company_id: companyId,\n    //     company_name,\n    //     business_id,\n    //     firstname,\n    //     lastname,\n    //     email,\n    //     address,\n    //     zip_code,\n    //     city,\n    //     description,\n    //     totalSum,\n    //     amount,\n    //     post_id: parseInt(post_id),\n    //     order_id: orderId,\n    //     marketing_budget,\n    //     mkt_description,\n    //     isSameCampaign: amount === 0 ? true : false, // Meaning same campaign but new budget\n    //     selectedCampaign: advertisement.selectedCampaign,\n    //     postIdToFetch: id,\n    //   };\n    //   if (payment_method === 'invoice') {\n    //     yield put(sendInvoiceToTalous(details));\n    //   } else if (payment_method === 'online') {\n    //     yield put(registerPayment(details));\n    //   } else {\n    //     yield put(showSuccessSnackbar());\n    //   }\n    // }\n  } catch (error) {\n    console.log(error);\n    yield put(showFailedSnackbar());\n  }\n}\n\nfunction* changeJobPostStatusSaga({ id }) {\n  try {\n    const url = `${API_SERVER}/UpdateJobPostStatus`;\n    const { company_id } = store.getState().companyProfile.profile;\n    const post_id = id;\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    const body = JSON.stringify({\n      post_id: userRole === \"admin\" ? id.split(\"admin\")[0] : post_id, // For admins, we need to get company id from post itself\n      company_id: userRole === \"admin\" ? id.split(\"admin\")[1] : company_id,\n      status: 2,\n    });\n    const result = yield call(apiManualPost, url, body);\n    if (result.data === \"Job Post Status updated successfully!\") {\n      yield put(showSuccessSnackbar());\n      yield put(openAdToSeeAdInfo(id));\n    } else {\n      yield put(showFailedSnackbar());\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\nfunction* saveMarketingDetailsSaga() {\n  try {\n    const formValues = getFormValues(\"marketingDetails\")(store.getState());\n    const { marketing_platform, more_budget, marketing_budget } = formValues;\n    if (!marketing_platform) {\n      yield put(touch(\"marketingDetails\", \"marketing_platform\"));\n      return;\n    }\n    if (!more_budget) {\n      yield put(touch(\"marketingDetails\", \"more_budget\"));\n      return;\n    }\n    if (more_budget === \"yes\") {\n      if (!marketing_budget) {\n        yield put(touch(\"marketingDetails\", \"marketing_budget\"));\n        return;\n      }\n    }\n    if (\n      marketing_budget &&\n      (parseInt(marketing_budget) < 1 || !/^[0-9]+$/.test(marketing_budget))\n    ) {\n      return;\n    }\n    yield put(saveMarketingDetailsSuccess(formValues));\n    yield put(closeDialog());\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* displayInitialDetails({ isToEdit }) {\n  try {\n    if (!isToEdit)\n      yield put(\n        initialize(\n          \"applicantDetails\",\n          getFormInitialValues(\"applicantDetails\")(store.getState())\n        )\n      );\n  } catch (e) {\n    console.log(e);\n  }\n}\nfunction* deleteJobPostSaga({ id }) {\n  try {\n    const url = `${API_SERVER_EST}/${id}`;\n    const companyId = store.getState().companyProfile.profile.company_id;\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    const body = JSON.stringify({\n      post_id: userRole === \"admin\" ? id.split(\"admin\")[0] : id,\n      company_id: userRole === \"admin\" ? id.split(\"admin\")[1] : companyId,\n    });\n    //yield call( apiOpenRequest, url);\n    const result = axios.delete(url).finally((res) => {});\n    if (userRole === \"admin\") {\n      yield put(filterJobs(result, true));\n    } else {\n      yield put(getAllAdsByStatus(0));\n      yield put(getAllAdsByStatus(1));\n      yield put(getAllAdsByStatus(2));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* saveAdvertisementAsDraft() {\n  yield put(saveAndPublishAdvertisement());\n}\n\nfunction* getApplicationDetailsByIdSaga({ jobpostId, id }) {\n  try {\n    const url = `https://localhost:7262/jobsApplication/${id}`;\n\n    const result = yield call(apiManualRequest, url);\n    const resultParsed = result.data;\n\n    if (resultParsed) {\n      yield put(getApplicationDetailsByIdSuccess(resultParsed));\n      yield put(openAdToSeeAdInfo(jobpostId));\n    }\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nfunction* updateApplicantStatusSaga({\n  application_id,\n  company_id,\n  post_id,\n  email,\n  status,\n}) {\n  try {\n    const url = `${API_SERVER}/UpdateJobApplicationStatus`;\n    const body = JSON.stringify({\n      application_id,\n      company_id,\n      post_id,\n      email,\n      status,\n    });\n    const result = yield call(apiManualPost, url, body);\n    if (result.data === \"Job Application's status updated successfully!\") {\n      //yield put(showSuccessSnackbar());\n      yield put(\n        getApplicationDetailsById(application_id, company_id, post_id, email)\n      );\n      yield put(openAdToSeeAdInfo(post_id));\n    } else {\n      yield put(showFailedSnackbar());\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\nfunction* updateJobApplicationDetailsSaga({\n  application_id,\n  company_id,\n  post_id,\n  email,\n  update,\n}) {\n  try {\n    let body;\n    const url = `${API_SERVER}/UpdateJobApplicationDetails`;\n    const formValues = getFormValues(\"applicantDetails\")(store.getState());\n    const loggedInUser = store.getState().client.user.data[1];\n    const {\n      application_notes,\n      interview_title,\n      interview_msg,\n      interview_date,\n      interview_time,\n      interview_place,\n    } = formValues;\n    if (update === \"note\") {\n      body = JSON.stringify({\n        application_id,\n        company_id,\n        post_id,\n        email,\n        update,\n        application_notes,\n      });\n    } else {\n      body = JSON.stringify({\n        application_id,\n        company_id,\n        post_id,\n        email,\n        update,\n        interview_title,\n        interview_msg,\n        interview_date,\n        interview_time,\n        interview_place,\n        loggedInUser,\n      });\n    }\n    const result = yield call(apiManualPost, url, body);\n    if (\n      result.data === \"Job Application's details updated successfully!\" ||\n      result.data === \"Interview reminder emails sent successfully!\"\n    ) {\n      yield put(showSuccessSnackbar());\n      yield put(\n        getApplicationDetailsById(application_id, company_id, post_id, email)\n      );\n      yield put(openAdToSeeAdInfo(post_id));\n    } else {\n      yield put(showFailedSnackbar());\n    }\n    // console.log('result', result);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Dashboard chart\nfunction* getJobPostViewsByDateSaga() {\n  try {\n    const url = `${API_SERVER}/GetJobPostViewsByDate`;\n    const { company_id } = store.getState().advertisement.viewSelectedAd;\n    const { post_id } = store.getState().advertisement.viewSelectedAd;\n    const body = JSON.stringify({\n      company_id,\n      post_id,\n    });\n    const result = yield call(apiManualPost, url, body);\n    const resultParsed = JSON.parse(result.data);\n    if (resultParsed) {\n      yield put(getJobPostViewsByDateSuccess(resultParsed));\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n//DELETE APPLICATION SAGA\nfunction* deleteApplicationSaga() {\n  try {\n    const id = store.getState().jobs.jobApplicantsId;\n    const url = `https://localhost:7262/jobsApplication/${id}`;\n    const { selectedAd } = store.getState().advertisement;\n\n    const result = yield call(apiManualDelete, url);\n\n    if (result.data === \"Job application successfully deleted\") {\n      yield put(openAdToSeeAdInfo(selectedAd));\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction* changeRouteSaga() {\n  try {\n    const userRole = store.getState().client.user.data[6].user_type;\n\n    if (userRole === \"company\") {\n      browserHistory.push(\"/omat-ilmoitukseni\");\n    }\n    if (userRole === \"admin\") {\n      browserHistory.push(\"/lisapalvelu\");\n    }\n    yield put(null); //Yield statement for generator function\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// When navigateAdsFromMainMenu is dispatched, we want to ensure the page lands to 0 index.\nfunction* changePaginationSaga() {\n  yield put(changeAdvertPage({ selected: 0 }));\n}\n\nfunction* adminGetUserCompanyProfileSaga({ id }) {\n  const url = `${API_SERVER}/GetCompanyProfile`;\n\n  try {\n    const uuid = store.getState().client.user.data[2];\n    const body = JSON.stringify({ company_id: id, uuid });\n    const result = yield call(apiManualPost, url, body);\n    const resultParsed = JSON.parse(result.data)[0];\n    yield put(getCompanyProfileSuccess(resultParsed));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// Automatic answers with email messages saga\nfunction* populateEmailMessageSaga({ languages }) {\n  const companyName = store.getState().usersCompanyList.selectedCompany\n    ?.company_name;\n  const storedLanguages = formValueSelector(\"vacancy\")(\n    store.getState(),\n    \"email_language\"\n  );\n\n  const isToSendAutoEmail = store.getState().advertisement\n    .automaticEmailToggleBtn;\n\n  try {\n    if (isToSendAutoEmail) {\n      const messages = messageTemplate(\n        companyName,\n        languages ? languages : storedLanguages\n      );\n      yield put(change(\"vacancy\", \"email_message\", messages));\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nexport function* watchsaveAndPublishAdvertisementSaga() {\n  yield takeEvery(\n    SAVE_AND_PUBLISH_ADVERTISEMENT,\n    saveAndPublishAdvertisementSaga\n  );\n}\nexport function* watchupdateAndPublishAdvertisementSaga() {\n  yield takeEvery(\n    UPDATE_AND_PUBLISH_ADVERTISEMENT,\n    updateAndPublishAdvertisementSaga\n  );\n}\nexport function* watchSaveAdvertisementAsDraft() {\n  yield takeEvery(SAVE_ADVERTISEMENT_AS_DRAFT, saveAdvertisementAsDraft);\n}\n\nexport function* watchgetAllCampaignsSaga() {\n  yield takeEvery(GET_ALL_CAMPAIGNS, getAllCampaignsSaga);\n}\n\nexport function* watchgetAllJobCategorysSaga() {\n  yield takeEvery(GET_ALL_JOB_CATEGORY, getAllJobCategorySaga);\n}\n\nexport function* watchgetAllAdsByStatusSaga() {\n  yield takeEvery(GET_ALL_ADS_BY_STATUS, getAllAdsByStatusSaga);\n}\nexport function* watchgetJobPostByPostIdSaga() {\n  yield takeEvery(OPEN_AD_TO_SEE_AD_INFO, getJobPostByPostIdSaga);\n}\nexport function* watchdeleteJobPostSaga() {\n  yield takeEvery(DELETE_JOB_OFFER, deleteJobPostSaga);\n}\nexport function* watchupdateJobPostSaga() {\n  yield takeEvery(UPDATE_ADVERTISEMENT, updateJobPostSaga);\n}\nexport function* watchpopulateVacancyFormSaga() {\n  yield takeEvery(POPULATE_VACANCY_FORM, populateVacancyFormSaga);\n}\n// for ee\nexport function* watcheditVacancyFormSaga() {\n  yield takeEvery(EDIT_VACANCY_FORM, editVacancyFormSaga);\n}\nexport function* watchupdateCampaignSaga() {\n  yield takeEvery(SAVE_NEW_CAMPAIGN, updateCampaignSaga);\n}\nexport function* watchchangeJobPostStatusSaga() {\n  yield takeEvery(CHANGE_ACTIVE_POST_TO_INACTIVE, changeJobPostStatusSaga);\n}\nexport function* watchgetApplicationDetailsByIdSaga() {\n  yield takeEvery(GET_APPLICATION_DETAILS_BY_ID, getApplicationDetailsByIdSaga);\n}\nexport function* watchupdateApplicantStatusSaga() {\n  yield takeEvery(UPDATE_APPLICANT_STATUS, updateApplicantStatusSaga);\n}\nexport function* watchupdateJobApplicationDetailsSaga() {\n  yield takeEvery(\n    UPDATE_JOB_APPLICATION_DETAILS,\n    updateJobApplicationDetailsSaga\n  );\n}\nexport function* watchgetJobPostViewsByDateSaga() {\n  yield takeEvery(GET_JOBPOST_VIEWS_BY_DATE, getJobPostViewsByDateSaga);\n}\nexport function* watchchangePaginationSaga() {\n  yield takeEvery(NAVIGATE_ADS_FROM_MAIN_MENU, changePaginationSaga);\n  yield takeEvery(OPEN_AD_TO_SEE_AD_INFO, changePaginationSaga);\n}\n\nexport function* watchEditInterviewDetailsSaga() {\n  yield takeEvery(EDIT_INTERVIEW_DETAILS, displayInitialDetails);\n}\nexport function* watchSaveMarketingDetailsSaga() {\n  yield takeEvery(SAVE_MARKETING_DETAILS, saveMarketingDetailsSaga);\n}\n\nexport function* watchdeleteApplicationSaga() {\n  yield takeEvery(DELETE_APPLICATION, deleteApplicationSaga);\n}\n\nexport function* watchChangeRouteSaga() {\n  yield takeEvery(CHANGE_ROUTE, changeRouteSaga);\n}\n\nexport function* watchAdminGetUserCompanyProfileSaga() {\n  yield takeEvery(ADMIN_GET_USER_PROFILE, adminGetUserCompanyProfileSaga);\n}\n\nexport function* watchPopulateEmailMessageSaga() {\n  yield takeEvery(POPULATE_EMAIL_MESSAGE, populateEmailMessageSaga);\n  yield takeEvery(AUTO_EMAIL_TO_APPLICANT, populateEmailMessageSaga);\n}\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,oBAArC;AACA,SACEC,aADF,EAEEC,MAFF,EAGEC,iBAHF,EAIEC,UAJF,EAKEC,oBALF,EAMEC,KANF,QAOO,YAPP;AAQA,SACEC,8BADF,EAEEC,gCAFF,EAGEC,UAHF,EAIEC,cAJF,EAKEC,qBALF,EAMEC,iBANF,EAOEC,sBAPF,EAQEC,oBARF,EASEC,qBATF,EAUEC,oBAVF,EAWEC,oBAXF,EAYEC,qBAZF,EAaEC,2BAbF,EAcEC,iBAdF,EAeEC,8BAfF,EAgBEC,6BAhBF,EAiBEC,uBAjBF,EAkBEC,yBAlBF,EAmBEC,2BAnBF,EAoBEC,8BApBF,EAqBEC,sBArBF,EAsBEC,sBAtBF,EAuBEC,kBAvBF,EAwBEC,YAxBF,EAyBEC,sBAzBF,EA0BEC,gBA1BF,EA2BEC,eA3BF,EA4BEC,sBA5BF,EA6BEC,uBA7BF,EA8BEC,iBA9BF,EA+BEC,gBA/BF,QAgCO,cAhCP;AAiCA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SACEC,gBADF,EAEEC,aAFF,EAGEC,cAHF,EAIEC,gBAJF,EAKEC,eALF,QAMO,kBANP;AAOA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SACEC,sBADF,EAEEC,kCAFF,EAGEC,wBAHF,EAIEC,iCAJF,EAKEC,wBALF,EAMEC,2BANF,EAOEC,mBAPF,EAQEC,kBARF,EASEC,iBATF,EAUEC,0BAVF,EAWEC,oCAXF,EAYEC,yBAZF,EAaEC,gCAbF,EAcEC,4BAdF,EAeEC,gBAfF,EAgBEC,iBAhBF,EAiBEC,UAjBF,EAkBEC,WAlBF,EAmBEC,2BAnBF,EAoBEC,WApBF,EAqBEC,eArBF,EAsBEC,mBAtBF,EAuBEC,wBAvBF,EAwBEC,wBAxBF,EAyBEC,aAzBF,EA0BEC,mCA1BF,EA2BEC,eA3BF,QA4BO,YA5BP;AA6BA,SAASC,uBAAT,QAAwC,0BAAxC;AACA,OAAOC,cAAP,MAA2B,YAA3B;AACA,SAASC,eAAT,QAAgC,8EAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,UAAUC,mBAAV,GAAgC;EAC9B,IAAI;IACF,MAAMC,GAAG,GAAI,GAAErE,UAAW,eAA1B;IACA,MAAMsE,MAAM,GAAG,MAAM/E,IAAI,CAACuC,gBAAD,EAAmBuC,GAAnB,CAAzB;IACA,MAAME,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACI,IAAlB,CAArB;IACA,MAAMpF,GAAG,CAAC8C,sBAAsB,CAACmC,YAAD,CAAvB,CAAT;EACD,CALD,CAKE,OAAOI,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AACF;;AACD,UAAUG,qBAAV,GAAkC;EAChC,IAAI;IACF,MAAMT,GAAG,GAAI,GAAErE,UAAW,mBAA1B;IACA,MAAMsE,MAAM,GAAG,MAAM/E,IAAI,CAACyC,cAAD,EAAiBqC,GAAjB,CAAzB;IACA,MAAME,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAACI,IAAlB,CAArB;IACA,MAAMpF,GAAG,CAACgD,wBAAwB,CAACiC,YAAD,CAAzB,CAAT;EACD,CALD,CAKE,OAAOI,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AACF;;AAED,UAAUI,+BAAV,GAA4C;EAC1C,IAAI;IACF,IAAIV,GAAJ;IACA,IAAIW,IAAJ;IACA,IAAIC,QAAJ;IACA,IAAIC,aAAa,GAAG,EAApB;IAEA,MAAM;MAAEC,aAAF;MAAiBC,MAAjB;MAAyBC;IAAzB,IAA4CxD,KAAK,CAACyD,QAAN,EAAlD;IACA,MAAMC,UAAU,GAAG/F,aAAa,CAAC,SAAD,CAAb,CAAyBqC,KAAK,CAACyD,QAAN,EAAzB,CAAnB;IACA,MAAME,eAAe,GAAGhG,aAAa,CAAC,aAAD,CAAb,CAA6BqC,KAAK,CAACyD,QAAN,EAA7B,CAAxB;IACA,MAAMG,IAAI,GAAGL,MAAM,CAACM,IAAP,CAAYhB,IAAZ,CAAiB,CAAjB,CAAb;IACA,MAAMiB,QAAQ,GAAGP,MAAM,CAACM,IAAP,CAAYhB,IAAZ,CAAiB,CAAjB,EAAoBkB,SAArC;IACA,MAAMC,cAAc,GAAGL,eAAe,IAAIA,eAAe,CAACK,cAA1D;IACA,MAAMC,SAAS,GAAGT,cAAc,CAACU,OAAf,CAAuBC,UAAzC;;IAEA,IAAI,CAACT,UAAU,CAACS,UAAhB,EAA4B;MAC1BT,UAAU,CAACS,UAAX,GAAwBF,SAAxB,CAD0B,CACS;IACpC;;IAED,MAAMxG,GAAG,CAACiE,WAAW,EAAZ,CAAT;;IAEA,IAAIoC,QAAQ,KAAK,OAAjB,EAA0B;MACxB,MAAMM,cAAc,GAAG;QACrBD,UAAU,EAAEE,QAAQ,CAACX,UAAU,CAACS,UAAZ,CADC;QAErBP;MAFqB,CAAvB;MAIA,MAAMU,YAAY,GAAG,MAAM5G,IAAI,CAC7BwC,aAD6B,EAE5B,GAAE/B,UAAW,oBAFe,EAG7BwE,IAAI,CAAC4B,SAAL,CAAe,EAAE,GAAGH;MAAL,CAAf,CAH6B,CAA/B;MAKAf,aAAa,GAAGV,IAAI,CAACC,KAAL,CAAW0B,YAAY,CAACzB,IAAxB,CAAhB;IACD;;IAED,MAAM;MACJ2B,gBADI;MAEJC,OAFI;MAGJC,QAHI;MAIJC,aAJI;MAKJC,gBALI;MAMJC;IANI,IAOFvB,aAPJ;IAQA,MAAMwB,oBAAoB,GACxBH,aAAa,IACbA,aAAa,CAACI,IADd,IAEAJ,aAAa,CAACI,IAAd,CAAmBC,OAAnB,CAA2B,aAA3B,EAA0C,IAA1C,CAHF,CAzCE,CA4CiD;;IACnD,MAAMC,iBAAiB,GAAG3E,SAAS,CAAC,gBAAD,EAAmBoD,UAAnB,CAAnC;IAGAlB,GAAG,GAAI,GAAEpE,cAAe,UAAxB;IAGA,MAAM8G,cAAc,GAClBT,OAAO,IAAII,YAAY,CAACM,IAAxB,IAAgCN,YAAY,CAACO,GAA7C,GACI,CADJ,GAEIZ,gBAAgB,CAACa,IAAjB,KAA0B,MAA1B,GACA,CADA,GAEA,CALN;IAOA,MAAMC,eAAe,GAAGT,YAAY,CAACM,IAAb,GACpB,MADoB,GAEpBN,YAAY,CAACO,GAAb,GACA,KADA,GAEA,IAJJ,CA1DE,CAgEF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACAjC,IAAI,GAAG;MACLoC,EADK;MAELC,QAFK;MAGLC,WAHK;MAILC,OAJK;MAKLC,WALK;MAMLC,WANK;MAOLC,cAPK;MAQLC,mBARK;MASLC,cATK;MAULC,aAVK;MAWLvB;IAXK,CAAP;IAaApC,KAAK,CAAC4D,IAAN,CAAWzD,GAAX,EAAeW,IAAf,EAAqB+C,IAArB,CAA2BC,GAAD,IAAO;MAAC/C,QAAQ,GAAC+C,GAAT;IAAa,CAA/C;;IACA,IAAG/C,QAAQ,KAAK,GAAhB,EACA;MACE,MAAM3F,GAAG,CAACmD,2BAA2B,EAA5B,CAAT;IACD,CAHD,MAII;MACF,MAAMnD,GAAG,CAAC+C,kCAAkC,EAAnC,CAAT;IACD,CA1IC,CA2IF;IAGA;IAEA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IAEA;IACA;IACA;IACA;IACA;IAEA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EACD,CAlND,CAkNE,OAAOsC,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACA,MAAMrF,GAAG,CAACiD,iCAAiC,EAAlC,CAAT;EACD;AACF;;AAED,UAAU0F,sBAAV,OAAqC;EAAA,IAAJ,EAAI;;EACnC,IAAI;IACF,MAAMb,EAAE,GAAGvF,KAAK,CAACyD,QAAN,GAAiB4C,IAAjB,CAAsBd,EAAjC;IACA,MAAM/C,GAAG,GAAI,GAAEpE,cAAe,IAAGmH,EAAG,EAApC;IACA,MAAMe,iBAAiB,GAAGtG,KA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"},"metadata":{},"sourceType":"module"}