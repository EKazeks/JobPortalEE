{"ast":null,"code":"import { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { closeSnackbar, displayPaymentStatusMessage, hideSpinner, addExtraService } from './actions';\nimport browserHistory from './history';\n\nconst HistoryListener = _ref => {\n  let {\n    children,\n    // MDTP\n    closeSnackbar,\n    displayPaymentStatusMessage,\n    hideSpinner,\n    showSuccessSnackbar,\n    showFailedSnackbar,\n    extraService,\n    addExtraService\n  } = _ref;\n  // locations listener\n  useEffect(() => {\n    // Incase users route to another components before any snackbar is closed leaving the state of showSuccessSnackbar as true\n    return browserHistory.listen(location => {\n      const isSnackBarOpen = showSuccessSnackbar || showFailedSnackbar;\n\n      if (isSnackBarOpen) {\n        closeSnackbar();\n      }\n\n      if (extraService === null || extraService === void 0 ? void 0 : extraService.help) {\n        addExtraService('help');\n      } else if (extraService === null || extraService === void 0 ? void 0 : extraService.sos) {\n        addExtraService('sos');\n      }\n\n      displayPaymentStatusMessage('');\n      hideSpinner(); //To ensure the spinner is always off in advertform\n    });\n  });\n  return children;\n};\n\nconst mapStateToProps = state => {\n  return {\n    showSuccessSnackbar: state.asyncActions.showSuccessSnackbar,\n    showFailedSnackbar: state.asyncActions.showFailedSnackbar,\n    extraService: state.advertisement.extraService\n  };\n};\n\nconst mapDispatchToProps = {\n  closeSnackbar,\n  displayPaymentStatusMessage,\n  hideSpinner,\n  addExtraService\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(HistoryListener);","map":{"version":3,"names":["useEffect","connect","closeSnackbar","displayPaymentStatusMessage","hideSpinner","addExtraService","browserHistory","HistoryListener","children","showSuccessSnackbar","showFailedSnackbar","extraService","listen","location","isSnackBarOpen","help","sos","mapStateToProps","state","asyncActions","advertisement","mapDispatchToProps"],"sources":["/Users/eduardkazeks/Documents/GitHub/EeJobPortal/src/HistoryListener.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { closeSnackbar, displayPaymentStatusMessage, hideSpinner, addExtraService } from './actions';\nimport browserHistory from './history';\n\nconst HistoryListener = ({\n  children,\n  // MDTP\n  closeSnackbar,\n  displayPaymentStatusMessage,\n  hideSpinner,\n  showSuccessSnackbar,\n  showFailedSnackbar,\n  extraService,\n  addExtraService,\n}) => {\n  // locations listener\n  useEffect(() => {\n    // Incase users route to another components before any snackbar is closed leaving the state of showSuccessSnackbar as true\n    return browserHistory.listen(location => {\n      const isSnackBarOpen = showSuccessSnackbar || showFailedSnackbar;\n      if (isSnackBarOpen) {\n        closeSnackbar();\n      }\n      if (extraService?.help) {\n        addExtraService('help');\n      } else if (extraService?.sos) {\n        addExtraService('sos');\n      }\n      displayPaymentStatusMessage('');\n      hideSpinner(); //To ensure the spinner is always off in advertform\n    });\n  });\n\n  return children;\n};\n\nconst mapStateToProps = state => {\n  return {\n    showSuccessSnackbar: state.asyncActions.showSuccessSnackbar,\n    showFailedSnackbar: state.asyncActions.showFailedSnackbar,\n    extraService: state.advertisement.extraService,\n  };\n};\n\nconst mapDispatchToProps = {\n  closeSnackbar,\n  displayPaymentStatusMessage,\n  hideSpinner,\n  addExtraService,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HistoryListener);\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,EAAwBC,2BAAxB,EAAqDC,WAArD,EAAkEC,eAAlE,QAAyF,WAAzF;AACA,OAAOC,cAAP,MAA2B,WAA3B;;AAEA,MAAMC,eAAe,GAAG,QAUlB;EAAA,IAVmB;IACvBC,QADuB;IAEvB;IACAN,aAHuB;IAIvBC,2BAJuB;IAKvBC,WALuB;IAMvBK,mBANuB;IAOvBC,kBAPuB;IAQvBC,YARuB;IASvBN;EATuB,CAUnB;EACJ;EACAL,SAAS,CAAC,MAAM;IACd;IACA,OAAOM,cAAc,CAACM,MAAf,CAAsBC,QAAQ,IAAI;MACvC,MAAMC,cAAc,GAAGL,mBAAmB,IAAIC,kBAA9C;;MACA,IAAII,cAAJ,EAAoB;QAClBZ,aAAa;MACd;;MACD,IAAIS,YAAJ,aAAIA,YAAJ,uBAAIA,YAAY,CAAEI,IAAlB,EAAwB;QACtBV,eAAe,CAAC,MAAD,CAAf;MACD,CAFD,MAEO,IAAIM,YAAJ,aAAIA,YAAJ,uBAAIA,YAAY,CAAEK,GAAlB,EAAuB;QAC5BX,eAAe,CAAC,KAAD,CAAf;MACD;;MACDF,2BAA2B,CAAC,EAAD,CAA3B;MACAC,WAAW,GAX4B,CAWxB;IAChB,CAZM,CAAP;EAaD,CAfQ,CAAT;EAiBA,OAAOI,QAAP;AACD,CA9BD;;AAgCA,MAAMS,eAAe,GAAGC,KAAK,IAAI;EAC/B,OAAO;IACLT,mBAAmB,EAAES,KAAK,CAACC,YAAN,CAAmBV,mBADnC;IAELC,kBAAkB,EAAEQ,KAAK,CAACC,YAAN,CAAmBT,kBAFlC;IAGLC,YAAY,EAAEO,KAAK,CAACE,aAAN,CAAoBT;EAH7B,CAAP;AAKD,CAND;;AAQA,MAAMU,kBAAkB,GAAG;EACzBnB,aADyB;EAEzBC,2BAFyB;EAGzBC,WAHyB;EAIzBC;AAJyB,CAA3B;AAOA,eAAeJ,OAAO,CAACgB,eAAD,EAAkBI,kBAAlB,CAAP,CAA6Cd,eAA7C,CAAf"},"metadata":{},"sourceType":"module"}